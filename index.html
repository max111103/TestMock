<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCM System - Weblike</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #f5f7fa;
            color: #333;
        }

        /* Layout */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: #1e293b;
            /* dark navy */
            color: #fff;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
        }

        .logo {
            padding: 16px 32px;
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            position: relative;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-title {
            flex: 1;
        }

        .icon-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            transition: opacity .2s, transform .2s;
            color: #6b7280;
            /* gray tone */
        }

        .icon-btn svg {
            width: 28px;
            height: 28px;
            stroke: currentColor;
        }

        .icon-btn:hover {
            opacity: 0.8;
        }

        .icon-btn:active {
            transform: scale(0.98);
        }

        /* Collapsed sidebar */
        .sidebar {
            transition: width .25s ease;
        }

        .sidebar.collapsed {
            width: 0;
            padding: 0;
            overflow: hidden;
            box-shadow: none;
            border: none;
        }

        /* hide everything inside when collapsed so the panel is completely hidden */
        .sidebar.collapsed * {
            display: none !important;
        }

        .nav-menu {
            flex: 1;
            padding: 20px 0 20px 0;
            /* keeps no horizontal padding; left alignment handled by .nav-item */
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 32px;
            cursor: pointer;
            transition: all 0.2s;
            color: #fff;
            text-decoration: none;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            border-right: 3px solid #2563eb;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }

        /* Main Content */
        /* --- Normalize vertical spacing across views (quotation/order/delivery) --- */
        #quotation-view,
        #order-view,
        #delivery-view {
            margin-top: 0 !important;
            /* remove accidental top gaps */
            display: flex;
            flex-direction: column;
            flex: 1;
            min-height: 0;
        }

        #quotation-view .tabs,
        #order-view .tabs,
        #delivery-view .tabs {
            margin-top: 0 !important;
            /* ensure tabs hug the top area */
        }

        /* As a safety net, ensure the first child in .content never adds unexpected top margin */
        .content>div:first-child {
            margin-top: 0 !important;
        }

        /* --- Normalize vertical spacing across views (quotation/order/delivery) --- */
        #quotation-view,
        #order-view,
        #delivery-view {
            margin-top: 0 !important;
            /* remove accidental top gaps */
        }

        #quotation-view .tabs,
        #order-view .tabs,
        #delivery-view .tabs {
            margin-top: 0 !important;
            /* ensure tabs hug the top area */
        }

        /* As a safety net, ensure the first child in .content never adds unexpected top margin */
        .content>div:first-child {
            margin-top: 0 !important;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Top Bar */
        .top-bar {
            background: #fff;
            padding: 16px 32px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 20px;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .logout-btn {
            padding: 8px 16px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .logout-btn:hover {
            background: #dc2626;
        }

        /* Content Area */
        .content {
            flex: 1;
            padding: 8px 32px 8px;
            /* minimized bottom padding for maximum table space */
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .warehouse-card {
            background: #fff;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .warehouse-card.zama {
            background-color: #d1fae5;
        }

        .warehouse-card.yokohama {
            background-color: #fef9c3;
        }

        .warehouse-card.koshien {
            background-color: #fee2e2;
        }

        .warehouse-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .warehouse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .warehouse-name {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }

        .warehouse-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
        }

        .warehouse-info {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .status-item {
            background: #f9fafb;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .status-label {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .status-value {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }

        .status-link {
            color: #2563eb;
            cursor: pointer;
            text-decoration: underline;
            transition: color 0.2s;
        }

        .status-link:hover {
            color: #1d4ed8;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            border-bottom: 2px solid #e5e7eb;
            flex-shrink: 0;
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            color: #6b7280;
            position: relative;
            margin-bottom: -2px;
        }

        .tab:hover {
            color: #2563eb;
        }

        .tab.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
        }

        .tab-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        /* Data Table */
        .data-table-container {
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 0 !important;
            padding-bottom: 0 !important;
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
            height: calc(100vh - 170px); /* さらに下まで引き伸ばし */
        }

        .table-tools {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            flex-direction: row-reverse;
        }

        .search-box {
            display: flex;
            gap: 12px;
            flex: 1;
            max-width: 600px;
        }

        .search-input {
            flex: 1;
            padding: 10px 16px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: #2563eb;
        }

        /* New search form styles */
        .search-form-2 {
            display: flex;
            position: relative;
            max-width: 600px;
            flex: 1;
        }

        .search-form-2 label {
            flex: 1;
            position: relative;
        }

        .search-form-2 input[type="text"] {
            width: 100%;
            padding: 10px 50px 10px 16px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .search-form-2 input[type="text"]:focus {
            outline: none;
            border-color: #2563eb;
        }

        .search-form-2 button[type="submit"] {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 4px;
            display: flex;
            align-items: center;
            color: #6b7280;
            transition: color 0.2s;
        }

        .search-form-2 button[type="submit"]:hover {
            color: #2563eb;
        }

        .search-form-2 button[type="submit"]::before {
            content: "";
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }

        .filter-btn {
            padding: 10px 8px;
            min-width: 60px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-btn:hover {
            background: #e5e7eb;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: #1e293b;
            padding: 8px 12px;
            /* narrower header padding */
            text-align: left;
            font-weight: 600;
            color: #ffffff;
            font-size: 13px;
            /* slightly smaller header text */
            border-bottom: 1px solid #e5e7eb;
        }

        .data-table td {
            padding: 10px 12px;
            /* narrower cell padding */
            border-bottom: 1px solid #f3f4f6;
            font-size: 14px;
        }

        /* --- Quotation Processing Table Row Height Adjustment --- */
        #quotation-view table.data-table th,
        #quotation-view table.data-table td,
        #order-view table.data-table th,
        #order-view table.data-table td {
            padding-top: 8px;
            padding-bottom: 8px;
        }

        .data-table tr:hover {
            background: #f9fafb;
        }

        .checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        /* Scrollable table area */
        .table-scroll {
            flex: 1;
            overflow: auto;
            min-height: 0;
        }

        /* Keep table headers visible while scrolling */
        .data-table thead th {
            position: sticky;
            top: 0;
            z-index: 2;
        }

        /* Action Buttons */
        .action-bar {
            display: flex;
            gap: 12px;
            padding: 20px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }

        .btn {
            padding: 10px 24px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-size: 14px;
        }

        .btn-primary,
        .btn-success {
            padding: 8px 16px;
            /* narrower buttons */
        }

        .btn-primary {
            background: #2563eb;
            color: white;
        }

        .btn-primary:hover {
            background: #1d4ed8;
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #374151;
        }

        .btn-secondary:hover {
            background: #d1d5db;
        }

        .btn-success {
            background: #ff8433;
            color: white;
        }

        .btn-success:hover {
            background: #ff8433;
        }

        .btn-danger {
            background: #ef4444;
            color: #fff;
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        /* Details row in table */
        .toggle-details-btn {
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 4px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .toggle-details-btn:hover {
            background-color: #f3f4f6;
        }

        .toggle-details-btn svg {
            width: 16px;
            height: 16px;
            transition: transform 0.2s;
        }

        .data-table tr.details-row-container.open .toggle-details-btn svg {
            transform: rotate(180deg);
        }

        .details-row {
            display: none;
            /* Initially hidden */
        }

        .details-row td {
            padding: 0 !important;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
            /* Match table border */
        }

        .details-card {
            padding: 20px;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .details-card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            background: #eee;
        }

        .details-card-info {
            flex: 1;
        }

        .details-card-info div {
            margin-bottom: 8px;
            font-size: 14px;
            line-height: 1.6;
        }

        .details-card-info .label {
            font-weight: 600;
            color: #374151;
            display: inline-block;
            width: 120px;
        }

        .details-card-info .value {
            color: #6b7280;
        }

        /* Disabled button styles */
        .btn:disabled {
            background: #d1d5db;
            color: #9ca3af;
            cursor: not-allowed;
        }

        .btn:disabled:hover {
            background: #d1d5db;
        }

        /* Custom colors for specific order action buttons */
        #btn-to-shipment-wait {
            background-color: #007bff;
            /* same blue as 見積送信 */
            border-color: #007bff;
        }

        #btn-to-in-progress,
        #btn-to-done {
            background-color: #f3f4f6;
            /* same as .filter-btn */
            border-color: #e5e7eb;
            /* same border as .filter-btn */
            color: #374151;
            /* same text color as .filter-btn */
        }

        #btn-to-in-progress:hover,
        #btn-to-done:hover {
            background-color: #e5e7eb;
            /* same hover as .filter-btn:hover */
        }

        /* Keep a consistent gap and show edit only when rows are selected */
        #order-edit-btn,
        #order-edit-btn-delay {
            display: none;
        }

        .table-tools .dynamic-actions.show #order-edit-btn,
        .table-tools .dynamic-actions.show #order-edit-btn-delay {
            display: inline-flex;
            align-items: center;
        }

        /* Modal */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.45);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-backdrop.show {
            display: flex;
        }

        .modal {
            width: 520px;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .modal-header {
            padding: 20px 24px 8px 24px;
            font-size: 20px;
            font-weight: 700;
            color: #111827;
        }

        .modal-subinfo {
            padding: 0 24px 16px 24px;
            color: #6b7280;
            font-size: 14px;
        }

        .modal-body {
            padding: 0 24px 8px 24px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .form-select,
        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d1d5db;
            border-radius: 10px;
            font-size: 14px;
            outline: none;
        }

        .form-select:focus,
        .form-input:focus {
            border-color: #2563eb;
        }

        .modal-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            padding: 16px 24px 24px 24px;
        }

        .btn-muted {
            background: #e5e7eb;
            color: #374151;
        }

        /* Sidebar user menu */
        .sidebar-user {
            position: relative;
        }

        .user-menu {
            position: absolute;
            right: 16px;
            bottom: 64px;
            /* show above the user row */
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);
            padding: 8px;
            display: none;
            z-index: 3000;
            min-width: 160px;
        }

        .user-menu.show {
            display: block;
        }

        .user-menu .menu-item {
            width: 100%;
            text-align: left;
            padding: 10px 12px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            font-size: 14px;
            color: #374151;
        }

        .user-menu .menu-item:hover {
            background: #f9fafb;
        }

        /* Pagination */
        .pagination {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: flex-end;
            padding: 12px 20px 20px;
        }

        .page-btn {
            padding: 6px 12px;
            border: 1px solid #e5e7eb;
            background: #fff;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .page-btn:hover {
            background: #f3f4f6;
        }

        .page-btn.active {
            background: #2563eb;
            color: #fff;
            border-color: #2563eb;
        }

        .page-btn[disabled] {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Notification Area */
        .notification-area {
            margin-top: 24px;
        }

        .notification {
            background: #fef3c7;
            border: 1px solid #fde68a;
            border-radius: 8px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .notification-icon {
            width: 20px;
            height: 20px;
            color: #f59e0b;
        }

        .notification-text {
            flex: 1;
            color: #92400e;
            font-size: 14px;
        }

        /* Update notification styles */
        .update-notification {
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .update-notification:hover {
            background-color: #e0f2fe;
        }

        .update-notification.unread {
            border-left: 4px solid #0ea5e9;
        }

        .update-notification.read {
            opacity: 0.8;
        }

        .update-icon {
            width: 20px;
            height: 20px;
            color: #0ea5e9;
            flex-shrink: 0;
        }

        .update-title {
            font-weight: 600;
            color: #0ea5e9;
            cursor: pointer;
            text-decoration: underline;
        }

        .update-title:hover {
            color: #0284c7;
        }

        .new-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        /* Update modal styles */
        .update-modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
        }

        .update-modal-backdrop.show {
            display: flex;
        }

        .update-modal {
            width: 600px;
            max-width: 90vw;
            max-height: 80vh;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .update-modal-header {
            padding: 20px 24px;
            background: #f0f9ff;
            border-bottom: 1px solid #e0f2fe;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .update-modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #0ea5e9;
        }

        .update-modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .update-modal-close:hover {
            background: #e5e7eb;
        }

        .update-modal-body {
            padding: 24px;
            line-height: 1.6;
            color: #374151;
            overflow-y: auto;
            max-height: 60vh;
        }

        /* Filter Panel */
        .filter-panel {
            position: fixed;
            right: -300px;
            top: 0;
            width: 300px;
            height: 100vh;
            background: #fff;
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            transition: right 0.3s;
            z-index: 1000;
            padding: 24px;
        }

        .filter-panel.active {
            right: 0;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .filter-title {
            font-size: 18px;
            font-weight: 600;
        }

        .close-btn {
            width: 24px;
            height: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        .filter-group {
            margin-bottom: 24px;
        }

        .filter-label {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            display: block;
        }

        .filter-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            font-size: 14px;
        }

        /* Dynamic Action Buttons */
        .dynamic-actions {
            display: none;
            align-items: center;
            gap: 12px;
            justify-content: flex-start;
        }

        .dynamic-actions.show {
            display: flex;
        }

        /* Dropdown Styles */
        .dropdown {
            position: relative;
        }

        .dropdown-btn {
            padding: 10px 20px;
            background: #059669;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .dropdown-btn:hover {
            background: #059669;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 120px;
            display: none;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-item {
            padding: 10px 16px;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 14px;
            border-bottom: 1px solid #f3f4f6;
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: #f9fafb;
        }

        /* Selected details panel */
        .selected-info {
            margin: 16px 20px 20px 20px;
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .selected-info__header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 16px;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
        }

        .selected-info__title {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }

        .selected-info__count {
            font-size: 12px;
            color: #6b7280;
        }

        .details-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            /* unify column widths */
        }

        .details-table th {
            background: #fff;
            padding: 10px 12px;
            text-align: left;
            font-weight: 600;
            color: #6b7280;
            font-size: 13px;
            border-bottom: 1px solid #e5e7eb;
        }

        .details-table td {
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
            font-size: 13px;
            color: #1f2937;
        }

        /* Keep cells on one line and show ellipsis */
        .details-table th,
        .details-table td {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Right-align the quantity column (last column) */
        .details-table td:last-child {
            text-align: right;
        }

        .selected-info__body {
            max-height: 280px;
            overflow: auto;
        }

        #btn-back-to-arranged {
            background: #ef4444;
            color: #fff;
        }

        #btn-back-to-arranged:hover {
            background: #dc2626;
        }

        /* RC担当備考の重要な情報のスタイル */
        .rc-memo-important {
            background-color: #fef08a !important;
            color: #000000 !important;
            font-weight: 500 !important;
            border: 1px solid #eab308 !important;
            padding: 6px !important;
            border-radius: 4px !important;
            font-size: 13px !important;
            line-height: 1.4 !important;
        }

        /* ホバー時により目立たせる */
        .rc-memo-important:hover {
            background-color: #fde047 !important;
            border-color: #ca8a04 !important;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            /* Layout adjustments */
            .app-container {
                flex-direction: column;
                height: 100vh;
            }

            /* Sidebar mobile behavior */
            .sidebar {
                position: fixed;
                top: 0;
                left: -260px;
                width: 260px;
                height: 100vh;
                z-index: 9999;
                transition: left 0.3s ease;
            }

            .sidebar.mobile-open {
                left: 0;
            }

            .sidebar.collapsed {
                left: -260px;
            }

            /* Mobile overlay */
            .mobile-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.5);
                z-index: 9998;
                display: none;
            }

            .mobile-overlay.show {
                display: block;
            }

            /* Main content full width on mobile */
            .main-content {
                width: 100%;
                margin-left: 0;
            }

            /* Top bar mobile adjustments */
            .top-bar {
                padding: 12px 16px;
                position: relative;
            }

            .page-title {
                font-size: 18px;
                margin-left: 40px;
            }

            /* Mobile menu button */
            .mobile-menu-btn {
                position: absolute;
                left: 16px;
                top: 50%;
                transform: translateY(-50%);
                background: none;
                border: none;
                font-size: 24px;
                color: #374151;
                cursor: pointer;
                padding: 4px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            /* Content area mobile */
            .content {
                padding: 16px;
            }

            /* Dashboard cards mobile */
            .dashboard-grid {
                grid-template-columns: 1fr;
                gap: 16px;
                margin-bottom: 24px;
            }

            .warehouse-card {
                padding: 16px;
            }

            .warehouse-name {
                font-size: 16px;
            }

            .warehouse-info {
                font-size: 13px;
                margin-bottom: 16px;
            }

            .status-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .status-item {
                padding: 10px;
            }

            .status-label {
                font-size: 11px;
            }

            .status-value {
                font-size: 14px;
                line-height: 1.4;
            }

            /* Tables mobile */
            .data-table-container {
                margin: 0 -16px;
                border-radius: 0;
            }

            .table-tools {
                padding: 16px;
                flex-direction: column;
                gap: 12px;
            }

            .search-form-2 {
                max-width: none;
                order: 1;
            }

            .dynamic-actions {
                order: 2;
                justify-content: flex-start;
                flex-wrap: wrap;
            }

            .table-scroll {
                max-height: 60vh;
                overflow: auto;
            }

            .data-table {
                font-size: 12px;
            }

            .data-table th,
            .data-table td {
                padding: 8px 6px;
                min-width: 80px;
            }

            .data-table th {
                font-size: 11px;
            }

            /* RC担当備考 mobile */
            .rc-memo-important {
                font-size: 11px !important;
                padding: 4px !important;
                line-height: 1.3 !important;
            }

            /* Buttons mobile */
            .btn {
                padding: 8px 12px;
                font-size: 13px;
                white-space: nowrap;
            }

            .dropdown-btn {
                padding: 8px 12px;
                font-size: 13px;
            }

            /* Tabs mobile */
            .tabs {
                margin-bottom: 16px;
                overflow-x: auto;
                flex-wrap: nowrap;
            }

            .tab {
                padding: 10px 16px;
                white-space: nowrap;
                font-size: 14px;
            }

            /* Modal mobile */
            .modal {
                width: 95vw;
                max-width: 95vw;
                margin: 20px;
            }

            .modal-header {
                padding: 16px 20px 8px 20px;
                font-size: 18px;
            }

            .modal-body {
                padding: 0 20px 8px 20px;
            }

            .modal-footer {
                padding: 12px 20px 20px 20px;
            }

            /* Update modal mobile */
            .update-modal {
                width: 95vw;
                max-width: 95vw;
                margin: 20px;
            }

            /* Filter panel mobile */
            .filter-panel {
                width: 100vw;
                right: -100vw;
            }

            /* User info mobile */
            .user-info {
                gap: 8px;
            }

            .user-avatar {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }

            .logout-btn {
                padding: 6px 12px;
                font-size: 13px;
            }

            /* Warehouse dropdown mobile */
            #header-warehouse-dropdown {
                position: relative;
            }

            .dropdown-menu {
                position: fixed;
                top: auto;
                left: 16px;
                right: 16px;
                width: auto;
                max-height: 300px;
                overflow-y: auto;
            }

            /* Notification mobile */
            .notification {
                margin: 0 -16px 12px -16px;
                border-radius: 0;
                padding: 12px 16px;
            }

            .notification-text {
                font-size: 13px;
            }

            /* Pagination mobile */
            .pagination {
                padding: 12px 16px 16px;
                justify-content: center;
            }

            .page-btn {
                padding: 6px 10px;
                font-size: 13px;
            }

            /* Selected info panel mobile */
            .selected-info {
                margin: 16px 0 20px 0;
                border-radius: 8px;
            }

            .selected-info__body {
                max-height: 200px;
            }

            .details-table {
                font-size: 12px;
            }

            .details-table th,
            .details-table td {
                padding: 8px 6px;
            }

            /* Action bar mobile */
            .action-bar {
                padding: 16px;
                flex-wrap: wrap;
                gap: 8px;
            }

            /* Details card mobile */
            .details-card {
                padding: 16px;
                flex-direction: column;
                gap: 16px;
            }

            .details-card img {
                width: 80px;
                height: 80px;
                align-self: center;
            }

            .details-card-info .label {
                width: 100px;
            }
        }

        /* Small mobile (phones in portrait) */
        @media (max-width: 480px) {
            .page-title {
                font-size: 16px;
                margin-left: 36px;
            }

            .mobile-menu-btn {
                left: 12px;
                font-size: 20px;
            }

            .top-bar {
                padding: 10px 12px;
            }

            .content {
                padding: 12px;
            }

            .warehouse-card {
                padding: 12px;
            }

            .warehouse-name {
                font-size: 15px;
            }

            .status-value {
                font-size: 13px;
            }

            .data-table {
                font-size: 11px;
            }

            .data-table th,
            .data-table td {
                padding: 6px 4px;
                min-width: 70px;
            }

            .btn {
                padding: 6px 10px;
                font-size: 12px;
            }

            .tab {
                padding: 8px 12px;
                font-size: 13px;
            }

            .dropdown-menu {
                left: 12px;
                right: 12px;
            }
            
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <span class="logo-title">Weblike SCM 2</span>
            </div>
            <nav class="nav-menu">
                <a href="#dashboard" class="nav-item active">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" />
                    </svg>
                    ダッシュボード
                </a>
                <a href="#quotation" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                        <path fill-rule="evenodd"
                            d="M4 5a2 2 0 012-2 1 1 0 000 2H6a2 2 0 00-2 2v6a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-1a1 1 0 100-2h1a4 4 0 014 4v6a4 4 0 01-4 4H6a4 4 0 01-4-4V7a4 4 0 014-4z" />
                    </svg>
                    見積処理
                </a>
                <a href="#order" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" />
                    </svg>
                    受注処理
                </a>
                <a href="#delivery" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                        <path
                            d="M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z" />
                    </svg>
                    納品処理
                </a>
            </nav>
            <div class="sidebar-user"
                style="margin-top:auto; padding:16px; border-top:1px solid #e5e7eb; display:flex; align-items:center; gap:12px;">
                <div class="user-avatar"
                    style="width:40px; height:40px; background:#2563eb; border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:bold; font-size:18px;">
                    山</div>
                <div style="flex:1;">
                    <button id="user-name-btn"
                        style="font-size:14px; font-weight:500; background:none; border:none; padding:0; cursor:pointer; color:#fff;">山田太郎</button>
                </div>
                <div class="user-menu" id="user-menu">
                    <button class="menu-item" data-action="settings">設定</button>
                    <button class="menu-item" data-action="help">ヘルプ</button>
                    <button class="menu-item" data-action="logout">ログアウト</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <div style="display:flex; align-items:center; gap:12px;">
                    <!-- Mobile menu button -->
                    <button id="mobile-menu-btn" class="mobile-menu-btn" aria-label="メニューを開く" style="display: none;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <!-- Desktop sidebar toggle button -->
                    <button id="sidebar-toggle" class="icon-btn" aria-label="サイドメニューの表示/非表示">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="16" rx="3" ry="3" />
                            <line x1="9" y1="4" x2="9" y2="20" />
                            <circle cx="6" cy="8" r="1.4" />
                            <circle cx="6" cy="12" r="1.4" />
                            <circle cx="6" cy="16" r="1.4" />
                        </svg>
                    </button>
                    <h1 class="page-title">ダッシュボード</h1>
                    <!-- Warehouse Selection Dropdown (visible in quotation, order, and delivery views) -->
                    <div class="dropdown" id="header-warehouse-dropdown" style="display: none;">
                        <button class="filter-btn" id="warehouse-dropdown-btn" style="padding: 8px 16px; font-size: 14px;">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2L3 7v11a2 2 0 002 2h10a2 2 0 002-2V7l-7-5z"></path>
                                <polyline points="9,21 9,13 11,13 11,21"></polyline>
                            </svg>
                            <span id="warehouse-btn-text">全倉庫</span>
                            <svg width="12" height="12" fill="currentColor" viewBox="0 0 20 20" style="margin-left: 4px;">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path>
                            </svg>
                        </button>
                        <div class="dropdown-menu" id="warehouse-dropdown-menu">
                            <div class="dropdown-item" data-warehouse="all">全倉庫</div>
                            <div class="dropdown-item" data-warehouse="zama">座間倉庫</div>
                            <div class="dropdown-item" data-warehouse="yokohama">横浜倉庫</div>
                            <div class="dropdown-item" data-warehouse="koshien">甲子園倉庫</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div class="content">
                <!-- Dashboard View -->
                <div id="dashboard-view">
                    <!-- Notifications -->
                    <div class="notification-area">
                        <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 600;">お知らせ</h3>
                        <div class="notification">
                            <div class="notification-text">
                                座間フルフィルメントセンター：入荷予定日を過ぎている明細　座間: 122件 / 横浜: 0件 / 甲子園: 0件 / 合計: 122件
                            </div>
                        </div>
                    </div>

                    <!-- Update Information -->
                    <div class="notification-area" style="margin-top: 20px;">
                        <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 600;">アップデート情報</h3>
                        <div class="notification update-notification unread" id="update-notification" style="background-color: #f0f9ff; border-color: #0ea5e9;">
                            <svg class="update-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.236 4.53L8.23 10.661a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
                            </svg>
                            <div class="notification-text">
                                <div class="update-title" id="update-title">
                                    【2025年08月18日（月）】Webike-SCM お知らせ
                                </div>
                            </div>
                            <div class="new-badge" id="new-badge">NEW</div>
                        </div>
                    </div>

                    <!-- Update Modal -->
                    <div class="update-modal-backdrop" id="update-modal">
                        <div class="update-modal">
                            <div class="update-modal-header">
                                <div class="update-modal-title">アップデート情報</div>
                                <button class="update-modal-close" id="update-modal-close">&times;</button>
                            </div>
                            <div class="update-modal-body">
                                <h4 style="margin-bottom: 16px; color: #0ea5e9;">【2025年08月18日（月）】Webike-SCM お知らせ</h4>
                                <p style="margin-bottom: 16px;">平素より弊社サービスをご利用いただき、ありがとうございます。</p>
                                <p style="margin-bottom: 16px;">2025年08月18日（月）　夜間にWebike-SCMのバグ修正を行いました。</p>
                                <p style="margin-bottom: 16px;">今回のアップデートは、一部仕入先様の処理中に下記のエラーメッセージが表示される事象への対応となり、現在は解消しております。</p>
                                <p style="margin-bottom: 16px; font-weight: 600;">修正内容：</p>
                                <ul style="margin-left: 20px; margin-bottom: 16px;">
                                    <li style="margin-bottom: 8px;">見積処理中のタイムアウトエラーを修正</li>
                                    <li style="margin-bottom: 8px;">一部ブラウザでの表示崩れを修正</li>
                                    <li style="margin-bottom: 8px;">CSV出力時のエラーハンドリングを改善</li>
                                </ul>
                                <p style="color: #6b7280; font-size: 14px;">何かご不明な点がございましたら、サポートまでお問い合わせください。</p>
                            </div>
                        </div>
                    </div>

                    <!-- Warehouse Status -->
                    <div style="margin-top: 20px;">
                        <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 600;">倉庫別ステータス件数</h3>
                        <div class="dashboard-grid">
                            <!-- 座間倉庫 -->
                            <div class="warehouse-card zama">
                                <div class="warehouse-header">
                                    <h3 class="warehouse-name">座間フルフィルメントセンター</h3>
                                    <div class="warehouse-status"></div>
                                </div>
                                <div class="warehouse-info">
                                    〒252-0012<br>
                                    神奈川県座間市広野台2-10-10 GLP座間 1階A区<br>
                                    電話番号：050-1743-7370
                                </div>
                                <div class="status-grid">
                                    <div class="status-item">
                                        <div class="status-label">見積処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="zama" data-action="quotation-unprocessed">157件</span> / 見積中: 0件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">受注処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="zama" data-action="order-unprocessed">7件</span> / 在庫あり: 3件 / 手配中: 0件 / 手配済: 2件 / 納期超過: 1件 / BO: 2件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">納品処理</div>
                                        <div class="status-value">出荷待: <span class="status-link" data-warehouse="zama" data-action="delivery-wait">0件</span> / 出荷済: 5件</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 横浜倉庫 -->
                            <div class="warehouse-card yokohama">
                                <div class="warehouse-header">
                                    <h3 class="warehouse-name">横浜フルフィルメントセンター</h3>
                                    <div class="warehouse-status"></div>
                                </div>
                                <div class="warehouse-info">
                                    〒242-0008<br>
                                    神奈川県大和市中央林間西6丁目8-26<br>
                                    電話番号：050-5497-3532
                                </div>
                                <div class="status-grid">
                                    <div class="status-item">
                                        <div class="status-label">見積処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="yokohama" data-action="quotation-unprocessed">157件</span> / 見積中: 0件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">受注処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="yokohama" data-action="order-unprocessed">7件</span> / 在庫あり: 3件 / 手配中: 0件 / 手配済: 2件 / 納期超過: 1件 / BO: 2件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">納品処理</div>
                                        <div class="status-value">出荷待: <span class="status-link" data-warehouse="yokohama" data-action="delivery-wait">0件</span> / 出荷済: 5件</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 甲子園倉庫 -->
                            <div class="warehouse-card koshien">
                                <div class="warehouse-header">
                                    <h3 class="warehouse-name">甲子園フルフィルメントセンター</h3>
                                    <div class="warehouse-status"></div>
                                </div>
                                <div class="warehouse-info">
                                    〒663-8142<br>
                                    兵庫県西宮市鳴尾浜1－20 GLP鳴尾浜 2階B区<br>
                                    電話番号：050-1753-8600
                                </div>
                                <div class="status-grid">
                                    <div class="status-item">
                                        <div class="status-label">見積処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="koshien" data-action="quotation-unprocessed">157件</span> / 見積中: 0件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">受注処理</div>
                                        <div class="status-value">未処理: <span class="status-link" data-warehouse="koshien" data-action="order-unprocessed">7件</span> / 在庫あり: 3件 / 手配中: 0件 / 手配済: 2件 / 納期超過: 1件 / BO: 2件</div>
                                    </div>
                                    <div class="status-item">
                                        <div class="status-label">納品処理</div>
                                        <div class="status-value">出荷待: <span class="status-link" data-warehouse="koshien" data-action="delivery-wait">0件</span> / 出荷済: 5件</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Total Warehouse Status -->
                    <div style="margin-top: 40px;">
                        <h3 style="margin-bottom: 16px; font-size: 18px; font-weight: 600;">全倉庫ステータス件数</h3>
                        <div class="warehouse-card" style="background: #e2e8f0; color: #1f2937; max-width: 800px; border: 1px solid #cbd5e1;">
                            <div class="warehouse-header">
                                <h3 class="warehouse-name" style="color: #1f2937;">全フルフィルメントセンター合計</h3>
                                <div class="warehouse-status" style="background: #4CAF50;"></div>
                            </div>
                            <div class="warehouse-info" style="color: #64748b;">
                                座間・横浜・甲子園の3拠点合計値
                            </div>
                            <div class="status-grid">
                                <div class="status-item" style="background: #f8fafc; border: 1px solid #d1d5db;">
                                    <div class="status-label" style="color: #64748b;">見積処理</div>
                                    <div class="status-value" style="color: #1f2937; font-weight: 700;">未処理: <span class="status-link" data-warehouse="all" data-action="quotation-unprocessed">471件</span> / 見積中: 0件</div>
                                </div>
                                <div class="status-item" style="background: #f8fafc; border: 1px solid #d1d5db;">
                                    <div class="status-label" style="color: #64748b;">受注処理</div>
                                    <div class="status-value" style="color: #1f2937; font-weight: 700;">未処理: <span class="status-link" data-warehouse="all" data-action="order-unprocessed">21件</span> / 在庫あり: 9件 / 手配中: 0件 / 手配済: 6件 / 納期超過: 3件 / BO: 6件</div>
                                </div>
                                <div class="status-item" style="background: #f8fafc; border: 1px solid #d1d5db;">
                                    <div class="status-label" style="color: #64748b;">納品処理</div>
                                    <div class="status-value" style="color: #1f2937; font-weight: 700;">出荷待: <span class="status-link" data-warehouse="all" data-action="delivery-wait">0件</span> / 出荷済: 15件</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quotation Processing View (Hidden by default) -->
                <div id="quotation-view" style="display: none;">
                    <div class="tabs">
                        <div class="tab active" data-status="unprocessed">未処理 <span class="tab-badge">157</span></div>
                        <div class="tab" data-status="processing">見積中</div>
                    </div>

                    <div class="data-table-container">
                        <div class="table-tools">
                            <form action="#" class="search-form-2">
                                <label>
                                    <input type="text" placeholder="商品名、商品番号、JAN、SCMコードで検索" id="quotation-search-input">
                                </label>
                                <button type="submit" aria-label="検索" id="quotation-search-btn"></button>
                            </form>

                            <!-- Dynamic Action Buttons -->
                            <div class="dynamic-actions" id="dynamic-actions">
                                <div class="dropdown">
                                    <button class="dropdown-btn" id="stock-dropdown-btn"
                                        style="background-color: #f0f0f0; color: #333;">納期を選択する <span
                                            style="margin-left: 8px;">▼</span></button>
                                    <div class="dropdown-menu" id="stock-dropdown-menu">
                                        <div class="dropdown-item" data-value="none">納期を選択する</div>
                                        <div class="dropdown-item" data-value="stock">在庫あり</div>
                                        <div class="dropdown-item" data-value="1day">1日</div>
                                        <div class="dropdown-item" data-value="2days">2日</div>
                                        <div class="dropdown-item" data-value="3days">3日</div>
                                        <div class="dropdown-item" data-value="1week">1週間</div>
                                        <div class="dropdown-item" data-value="out-of-stock">欠品中未定</div>
                                    </div>
                                </div>
                                <button class="btn btn-primary" id="quotation-send-btn">見積送信</button>
                                <span class="quotation-processing-btn-container">
                                    <button class="btn btn-primary" id="quotation-processing-btn">見積中にする</button>
                                </span>
                                <button class="btn btn-success" id="edit-btn">編集</button>
                                <div class="dropdown">
                                    <button class="btn btn-secondary dropdown-btn" id="export-dropdown-btn">CSVエクスポート</button>
                                    <div class="dropdown-menu" id="export-dropdown-menu" style="left: auto; right: 0;">
                                        <button class="dropdown-item" id="export-csv-btn">CSVダウンロード</button>
                                    </div>
                                </div>
                                <button class="btn btn-secondary" id="fax-modal-btn" style="margin-left:8px;">FAX出力</button>
                            </div>
                        </div>

                        <div class="table-scroll">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="checkbox"></th>
                                        <th></th><!-- for toggle button -->
                                        <th>Webike依頼日</th>
                                        <th>SCMコード</th>
                                        <th>メーカー名</th>
                                        <th>商品名</th>
                                        <th>商品番号</th>
                                        <th>JAN</th>
                                        <th>定価(税込)</th>
                                        <th>仕切価格(税抜)</th>
                                        <th>注文数</th>
                                        <th>自社管理番号</th>
                                        <th>担当者備考</th>
                                        <th>RC担当備考</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/05/30</td>
                                        <td>160530R02654</td>
                                        <td>田中商会</td>
                                        <td>チェーンカッター＆カシメルセット</td>
                                        <td>ca1047</td>
                                        <td></td>
                                        <td>¥4,428</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td class="rc-memo-important">【自動OFF】フロント：18Ｔ　リア：42Ｔ無ければ41Ｔ　オフセット量：不明　減速比2.333</td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=ca1047" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/05/30</td>
                                        <td>160530R02890</td>
                                        <td>XAMザム</td>
                                        <td>CLASSICシリーズ リアスプロケット</td>
                                        <td>A3208-50T</td>
                                        <td></td>
                                        <td>¥11,880</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td class="rc-memo-important">【自動OFF】フロント：18Ｔ　リア：42Ｔ無ければ41Ｔ　オフセット量：不明　減速比2.333</td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=A3208-50T"
                                                    alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/05/30</td>
                                        <td>160530R02896</td>
                                        <td>XAMザム</td>
                                        <td>フロントスプロケット</td>
                                        <td>C3201-14T</td>
                                        <td></td>
                                        <td>¥2,700</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=C3201-14T"
                                                    alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/02</td>
                                        <td>160602R03001</td>
                                        <td>キジマ</td>
                                        <td>グリップヒーター</td>
                                        <td>K-HEAT-01</td>
                                        <td>4981234567890</td>
                                        <td>¥9,800</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=K-HEAT-01"
                                                    alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/02</td>
                                        <td>160602R03002</td>
                                        <td>デイトナ</td>
                                        <td>USB電源</td>
                                        <td>USB-2P</td>
                                        <td></td>
                                        <td>¥2,200</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=USB-2P" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/03</td>
                                        <td>160603R03003</td>
                                        <td>エーモン</td>
                                        <td>リレーキット</td>
                                        <td>AM-RELAY</td>
                                        <td>4905034012345</td>
                                        <td>¥1,480</td>
                                        <td>¥0</td>
                                        <td>3</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=AM-RELAY"
                                                    alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/03</td>
                                        <td>160603R03004</td>
                                        <td>SP武川</td>
                                        <td>マフラーガスケット</td>
                                        <td>SP-GSKT</td>
                                        <td></td>
                                        <td>¥980</td>
                                        <td>¥0</td>
                                        <td>5</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=SP-GSKT" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/04</td>
                                        <td>160604R03005</td>
                                        <td>キタコ</td>
                                        <td>スプロケット</td>
                                        <td>KT-SPR-15T</td>
                                        <td></td>
                                        <td>¥3,200</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KT-SPR-15T"
                                                    alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="pagination"></div>
                    </div>
                </div>

                <!-- Order Processing View (Hidden by default) -->
                <div id="order-view" style="display: none;">
                    <div class="tabs">
                        <div class="tab active">未処理 <span class="tab-badge">7</span></div>
                        <div class="tab">手配中</div>
                        <div class="tab">手配済</div>
                        <div class="tab">在庫あり</div>
                        <div class="tab">納期超過</div>
                        <div class="tab">BO</div>
                    </div>

                    <div class="data-table-container">
                        <div class="table-tools">
                            <form action="#" class="search-form-2">
                                <label>
                                    <input type="text" placeholder="商品名、商品番号、JAN、SCMコードで検索" id="order-search-input">
                                </label>
                                <button type="submit" aria-label="検索" id="order-search-btn"></button>
                            </form>
                            <div class="dynamic-actions" id="order-dynamic-actions">
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <label for="order-date" style="font-size:14px; color:#374151;">日付選択</label>
                                    <input type="date" id="order-date" class="form-input"
                                        style="width:auto; padding:6px 10px;">
                                </div>
                                <div class="btn-group-equal">
                                    <button class="btn btn-primary" id="btn-to-shipment-wait">出荷待ちにする</button>
                                    <button class="btn btn-primary" id="btn-to-in-progress">手配中にする</button>
                                    <button class="btn btn-primary" id="btn-to-done">手配済にする</button>
                                    <button class="btn btn-success" id="order-edit-btn">編集</button>
                                    <div class="dropdown" style="display:inline-block;">
                                        <button class="btn btn-secondary dropdown-btn" id="order-export-dropdown-btn">CSVエクスポート</button>
                                        <div class="dropdown-menu" id="order-export-dropdown-menu" style="left: auto; right: 0;">
                                            <button class="dropdown-item" id="order-export-csv-btn">CSVダウンロード</button>
                                        </div>
                                    </div>
                                    <button class="btn btn-secondary" id="order-fax-modal-btn">FAX出力</button>
                                    <button class="btn btn-danger" id="btn-delay" style="display:none;">遅延処理</button>
                                    <button class="btn btn-success" id="order-edit-btn-delay" style="display:none;">編集</button>
                                    <div class="dropdown" id="order-delay-export-dropdown" style="display:none;">
                                        <button class="btn btn-secondary dropdown-btn" id="order-delay-export-dropdown-btn">CSVエクスポート</button>
                                        <div class="dropdown-menu" id="order-delay-export-dropdown-menu" style="left: auto; right: 0;">
                                            <button class="dropdown-item" id="order-delay-export-csv-btn">CSVダウンロード</button>
                                        </div>
                                    </div>
                                    <button class="btn btn-secondary" id="order-delay-fax-modal-btn" style="display:none;">FAX出力</button>
                                </div>
                            </div>
                        </div>

                        <div class="table-scroll">
                            <table class="data-table" id="order-data-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="checkbox" id="order-main-checkbox"></th>
                                        <th></th><!-- for toggle button -->
                                        <th>受注日</th>
                                        <th>SCMコード</th>
                                        <th>メーカー名</th>
                                        <th>商品名</th>
                                        <th>商品番号</th>
                                        <th>JAN</th>
                                        <th>定価(税込)</th>
                                        <th>仕切価格(税抜)</th>
                                        <th>注文数</th>
                                        <th>自社管理番号</th>
                                        <th>担当者備考</th>
                                        <th>RC担当備考</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/01</td>
                                        <td>160601R01001</td>
                                        <td>DAYTONA</td>
                                        <td>ハイスロキット</td>
                                        <td>12345</td>
                                        <td>4909449411111</td>
                                        <td>¥8,800</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                        <td class="rc-memo-important">【自動OFF】フロント：18Ｔ　リア：42Ｔ無ければ41Ｔ　オフセット量：不明　減速比2.333</td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=12345" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/01</td>
                                        <td>160601R01002</td>
                                        <td>キタコ</td>
                                        <td>ライトカウル</td>
                                        <td>KT-001</td>
                                        <td></td>
                                        <td>¥12,100</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KT-001" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/01</td>
                                        <td>160601R01003</td>
                                        <td>SP武川</td>
                                        <td>リアサス</td>
                                        <td>SP-777</td>
                                        <td></td>
                                        <td>¥22,000</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=SP-777" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/02</td>
                                        <td>160602R01004</td>
                                        <td>キタコ</td>
                                        <td>ミラー</td>
                                        <td>KT-MIR-01</td>
                                        <td>4901234567890</td>
                                        <td>¥2,200</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KT-MIR-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/02</td>
                                        <td>160602R01005</td>
                                        <td>デイトナ</td>
                                        <td>スマホホルダー</td>
                                        <td>DT-HLD-02</td>
                                        <td></td>
                                        <td>¥3,980</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=DT-HLD-02" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/03</td>
                                        <td>160603R01006</td>
                                        <td>キジマ</td>
                                        <td>ウィンカー</td>
                                        <td>KJ-WNK-01</td>
                                        <td>4987654321098</td>
                                        <td>¥4,400</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KJ-WNK-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/03</td>
                                        <td>160603R01007</td>
                                        <td>SP武川</td>
                                        <td>ハンドルバー</td>
                                        <td>SP-HND-01</td>
                                        <td></td>
                                        <td>¥8,800</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=SP-HND-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/04</td>
                                        <td>160604R01008</td>
                                        <td>エーモン</td>
                                        <td>ヒューズホルダー</td>
                                        <td>AM-FUSE</td>
                                        <td></td>
                                        <td>¥680</td>
                                        <td>¥0</td>
                                        <td>4</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=AM-FUSE" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value"></span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value"></span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/05</td>
                                        <td>160605R01009</td>
                                        <td>YOSHIMURA</td>
                                        <td>エキゾーストパイプ</td>
                                        <td>YS-EX01</td>
                                        <td>4982398765432</td>
                                        <td>¥58,000</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td>YS-001</td>
                                        <td>取り寄せ商品</td>
                                        <td>【要確認】車種適合要チェック</td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=YS-EX01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">フルエキゾースト</span></div>
                                                    <div><span class="label">備考:</span><span class="value">車種専用設計</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">ホンダ</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/05</td>
                                        <td>160605R01010</td>
                                        <td>BREMBO</td>
                                        <td>ブレーキパッド</td>
                                        <td>BR-PAD01</td>
                                        <td>8058796543210</td>
                                        <td>¥14,500</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td>BR-001</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=BR-PAD01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">フロント用</span></div>
                                                    <div><span class="label">備考:</span><span class="value">高性能パッド</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">汎用</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/06</td>
                                        <td>160606R01011</td>
                                        <td>K&N</td>
                                        <td>エアフィルター</td>
                                        <td>KN-AF101</td>
                                        <td>0191749876543</td>
                                        <td>¥7,800</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td>洗浄可能</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KN-AF101" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">高流量フィルター</span></div>
                                                    <div><span class="label">備考:</span><span class="value">繰り返し使用可能</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">多車種対応</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/06</td>
                                        <td>160606R01012</td>
                                        <td>MOTUL</td>
                                        <td>エンジンオイル</td>
                                        <td>MT-7100</td>
                                        <td>3374650123456</td>
                                        <td>¥3,200</td>
                                        <td>¥0</td>
                                        <td>4</td>
                                        <td></td>
                                        <td>4L缶</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=MT-7100" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">10W-40</span></div>
                                                    <div><span class="label">備考:</span><span class="value">高性能エンジンオイル</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">4輪・2輪共用</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/07</td>
                                        <td>160607R01013</td>
                                        <td>NGK</td>
                                        <td>スパークプラグ</td>
                                        <td>NGK-CR8E</td>
                                        <td>0876543211234</td>
                                        <td>¥980</td>
                                        <td>¥0</td>
                                        <td>4</td>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=NGK-CR8E" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">標準プラグ</span></div>
                                                    <div><span class="label">備考:</span><span class="value">高品質プラグ</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">多車種対応</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/07</td>
                                        <td>160607R01014</td>
                                        <td>PIRELLI</td>
                                        <td>タイヤ</td>
                                        <td>PI-DIABLO</td>
                                        <td>8019227654321</td>
                                        <td>¥28,000</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td>PI-001</td>
                                        <td>前後セット</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=PI-DIABLO" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">スポーツタイヤ</span></div>
                                                    <div><span class="label">備考:</span><span class="value">前後セット</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">スポーツバイク用</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/08</td>
                                        <td>160608R01015</td>
                                        <td>OHLINS</td>
                                        <td>リアショック</td>
                                        <td>OH-RSU46</td>
                                        <td>7333650987654</td>
                                        <td>¥98,000</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td>OH-001</td>
                                        <td>受注生産</td>
                                        <td>【納期要確認】受注生産品のため納期長期</td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=OH-RSU46" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">リアサスペンション</span></div>
                                                    <div><span class="label">備考:</span><span class="value">プロ仕様</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">スポーツバイク</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/08</td>
                                        <td>160608R01016</td>
                                        <td>GIVI</td>
                                        <td>トップケース</td>
                                        <td>GV-E55</td>
                                        <td>8020534876543</td>
                                        <td>¥42,000</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td>モノロックベース別売</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=GV-E55" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">55L</span></div>
                                                    <div><span class="label">備考:</span><span class="value">モノロック</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">汎用</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/09</td>
                                        <td>160609R01017</td>
                                        <td>SHOEI</td>
                                        <td>ヘルメット</td>
                                        <td>SH-X14</td>
                                        <td>4960687543210</td>
                                        <td>¥78,000</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td>SH-001</td>
                                        <td>Lサイズ</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=SH-X14" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">フルフェイス</span></div>
                                                    <div><span class="label">備考:</span><span class="value">最新モデル</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">-</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/09</td>
                                        <td>160609R01018</td>
                                        <td>ALPINESTARS</td>
                                        <td>グローブ</td>
                                        <td>AS-GP01</td>
                                        <td>8033637654321</td>
                                        <td>¥18,500</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td>Mサイズ</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=AS-GP01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">レーシング</span></div>
                                                    <div><span class="label">備考:</span><span class="value">本革製</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">-</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/10</td>
                                        <td>160610R01019</td>
                                        <td>OXFORD</td>
                                        <td>バイクカバー</td>
                                        <td>OX-CV200</td>
                                        <td>5030009876543</td>
                                        <td>¥8,900</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td>Lサイズ</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=OX-CV200" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">防水カバー</span></div>
                                                    <div><span class="label">備考:</span><span class="value">UV対応</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">中型バイク</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/10</td>
                                        <td>160610R01020</td>
                                        <td>DAYTONA</td>
                                        <td>LEDウインカー</td>
                                        <td>DT-LED01</td>
                                        <td>4909449876543</td>
                                        <td>¥5,400</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td>フロント・リアセット</td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=DT-LED01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">LED</span></div>
                                                    <div><span class="label">備考:</span><span class="value">省電力</span></div>
                                                    <div><span class="label">対応車種メーカー:</span><span class="value">汎用</span></div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="order-pagination"></div>
                    </div>
                </div>

                <!-- Delivery Processing View (Hidden by default) -->
                <div id="delivery-view" style="display: none;">
                    <div class="tabs" id="delivery-tabs">
                        <div class="tab active" data-tab="wait">出荷待</div>
                        <div class="tab" data-tab="done">出荷済</div>
                    </div>

                    <!-- 出荷待: アクション付き -->
                    <div class="data-table-container" id="delivery-wait-container">
                        <div class="table-tools">
                            <form action="#" class="search-form-2">
                                <label>
                                    <input type="text" placeholder="商品名、商品番号、JAN、SCMコードで検索" id="delivery-search-input">
                                </label>
                                <button type="submit" aria-label="検索" id="delivery-search-btn"></button>
                            </form>
                            <div class="dynamic-actions" id="delivery-actions">
                                <button class="btn btn-secondary" id="btn-back-to-arranged">手配済に戻す</button>
                                <div style="display:flex; align-items:center; gap:8px;">
                                    <label for="delivery-date" style="font-size:14px; color:#374151;">日付選択</label>
                                    <input type="date" id="delivery-date" class="form-input"
                                        style="width:auto; padding:6px 10px;">
                                    <button class="btn btn-primary" id="btn-ship">出荷する</button>
                                </div>
                                <button class="btn btn-secondary" id="btn-set-tracking-modal">追跡番号設定</button>
                                <button class="btn btn-success" id="delivery-edit-btn" style="display:none;">編集</button>
                                <div class="dropdown" id="delivery-export-dropdown" style="display:none; margin-left:0;">
                                    <button class="btn btn-secondary dropdown-btn" id="delivery-export-dropdown-btn">CSVエクスポート</button>
                                    <div class="dropdown-menu" id="delivery-export-dropdown-menu" style="left: auto; right: 0;">
                                        <button class="dropdown-item" id="delivery-export-csv-btn">CSVダウンロード</button>
                                    </div>
                                </div>
                                <button class="btn btn-secondary" id="delivery-fax-modal-btn" style="display:none;">FAX出力</button>
                            </div>
                        </div>

                        <div class="table-scroll">
                            <table class="data-table" id="delivery-wait-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="checkbox" id="delivery-main-checkbox"></th>
                                        <th></th>
                                        <th>受注日</th>
                                        <th>SCMコード</th>
                                        <th>メーカー名</th>
                                        <th>商品名</th>
                                        <th>商品番号</th>
                                        <th>JAN</th>
                                        <th>定価(税込)</th>
                                        <th>仕切価格(税抜)</th>
                                        <th>注文数</th>
                                        <th>自社管理番号</th>
                                        <th>担当者備考</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/05</td>
                                        <td>160605R02001</td>
                                        <td>デイトナ</td>
                                        <td>オイルフィルター</td>
                                        <td>DT-OF-01</td>
                                        <td>4900000000001</td>
                                        <td>¥1,450</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=DT-OF-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">フィルター類</span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value">定期交換部品</span></div>
                                                    <div><span class="label">メーカー対応車種:</span><span class="value">汎用</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/06</td>
                                        <td>160606R02002</td>
                                        <td>キタコ</td>
                                        <td>レバーセット</td>
                                        <td>KT-LVR-01</td>
                                        <td></td>
                                        <td>¥3,980</td>
                                        <td>¥0</td>
                                        <td>2</td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="13">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=KT-LVR-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">操作系パーツ</span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value">レバー調整可能</span></div>
                                                    <div><span class="label">メーカー対応車種:</span><span class="value">ホンダ/ヤマハ</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="delivery-pagination"></div>
                    </div>

                    <!-- 出荷済: テーブルのみ（ボタンなし） -->
                    <div class="data-table-container" id="delivery-done-container" style="display:none;">
                        <div class="table-tools">
                            <form action="#" class="search-form-2">
                                <label>
                                    <input type="text" placeholder="商品名、商品番号、JAN、SCMコードで検索" id="delivered-search-input">
                                </label>
                                <button type="submit" aria-label="検索" id="delivered-search-btn"></button>
                            </form>
                        </div>
                        <div class="table-scroll">
                            <table class="data-table" id="delivery-done-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="checkbox" id="delivery-done-main-checkbox">
                                        </th>
                                        <th></th>
                                        <th>出荷日</th>
                                        <th>SCMコード</th>
                                        <th>メーカー名</th>
                                        <th>商品名</th>
                                        <th>商品番号</th>
                                        <th>JAN</th>
                                        <th>定価(税込)</th>
                                        <th>仕切価格(税抜)</th>
                                        <th>注文数</th>
                                        <th>運送会社</th>
                                        <th>追跡番号</th>
                                        <th>アクション</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="data-row">
                                        <td><input type="checkbox" class="checkbox"></td>
                                        <td>
                                            <button class="toggle-details-btn" aria-expanded="false">
                                                <svg fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd"
                                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                        clip-rule="evenodd"></path>
                                                </svg>
                                            </button>
                                        </td>
                                        <td>2016/06/07</td>
                                        <td>160607R03001</td>
                                        <td>SP武川</td>
                                        <td>ヘッドライト</td>
                                        <td>SP-HL-01</td>
                                        <td>4988888888888</td>
                                        <td>¥15,800</td>
                                        <td>¥0</td>
                                        <td>1</td>
                                        <td>ヤマト運輸</td>
                                        <td>ABC123456789</td>
                                        <td>
                                            <div style="display: flex; gap: 4px; justify-content: flex-start; align-items: center;">
                                                <button class="btn btn-success btn-sm">編集</button>
                                                <button class="btn btn-secondary btn-sm">CSV</button>
                                                <button class="btn btn-secondary btn-sm">FAX</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="details-row">
                                        <td colspan="14">
                                            <div class="details-card">
                                                <img src="https://via.placeholder.com/100x100?text=SP-HL-01" alt="image">
                                                <div class="details-card-info">
                                                    <div><span class="label">タイプ:</span><span class="value">照明パーツ</span>
                                                    </div>
                                                    <div><span class="label">備考:</span><span class="value">LED仕様</span></div>
                                                    <div><span class="label">メーカー対応車種:</span><span class="value">モンキー125</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pagination" id="delivered-pagination"></div>
                    </div>
                </div>

                <!-- Filter Panel -->
                <!-- Edit Modal -->
                <div class="modal-backdrop" id="edit-modal">
                    <div class="modal">
                        <div class="modal-header">編集</div>
                        <div class="modal-subinfo" id="edit-selected-count">選択された商品 0件</div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label class="form-label">入力支援</label>
                                <select class="form-select" id="assist-select">
                                    <option value="">選択してください</option>
                                    <option value="至急対応お願いします">至急対応お願いします</option>
                                    <option value="メーカー確認中">メーカー確認中</option>
                                    <option value="入荷予定日未定">入荷予定日未定</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">担当備考</label>
                                <input type="text" class="form-input" id="memo-input" placeholder="担当備考を入力" />
                            </div>
                            <div class="form-group">
                                <label class="form-label">自社管理番号</label>
                                <input type="text" class="form-input" id="own-input" placeholder="自社管理番号を入力" />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary" id="edit-apply-btn">更新</button>
                            <button class="btn btn-muted" id="edit-close-btn">閉じる</button>
                        </div>
                    </div>
                </div>
                <div class="modal-backdrop" id="delay-modal">
                    <div class="modal">
                        <div class="modal-header">遅延処理</div>
                        <div class="modal-subinfo">選択した受注に対して遅延理由と予定を登録します。</div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label class="form-label">発送予定</label>
                                <div style="display:flex; align-items:center; gap:12px;">
                                    <label style="display:flex; align-items:center; gap:6px;">
                                        <input type="radio" name="delay-status" id="delay-undecided" value="undecided"
                                            checked>
                                        未定
                                    </label>
                                    <label style="display:flex; align-items:center; gap:6px;">
                                        <input type="radio" name="delay-status" id="delay-scheduled" value="scheduled">
                                        発送予定
                                    </label>
                                    <input type="date" id="delay-date" class="form-input"
                                        style="width:auto; padding:6px 10px;" disabled>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">遅延理由</label>
                                <select class="form-select" id="delay-reason">
                                    <option value="">選択してください</option>
                                    <option value="low-stock">メーカー在庫が残りわずかだったため</option>
                                    <option value="production">生産遅延のため</option>
                                    <option value="logistics">物流遅延のため</option>
                                    <option value="other">その他</option>
                                </select>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-danger" id="delay-apply-btn">遅延処理</button>
                            <button class="btn btn-muted" id="delay-close-btn">閉じる</button>
                        </div>
                    </div>
                </div>
                <div class="modal-backdrop" id="tracking-modal">
                    <div class="modal">
                        <div class="modal-header">追跡番号設定</div>
                        <div class="modal-subinfo" id="tracking-selected-count">選択された明細 0件</div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label class="form-label" for="modal-carrier-select">運送会社</label>
                                <select class="form-select" id="modal-carrier-select">
                                    <option value="yamato">ヤマト運輸</option>
                                    <option value="sagawa">佐川急便</option>
                                    <option value="jppost">日本郵便</option>
                                    <option value="seino">西濃運輸</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="modal-tracking-input">追跡番号</label>
                                <input type="text" class="form-input" id="modal-tracking-input" placeholder="追跡番号を入力">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary" id="tracking-apply-btn">保存</button>
                            <button class="btn btn-muted" id="tracking-close-btn">閉じる</button>
                        </div>
                    </div>
                </div>
                <div class="filter-panel">
                    <div class="filter-header">
                        <h3 class="filter-title">検索条件</h3>
                        <svg class="close-btn" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" />
                        </svg>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">商品メーカー</label>
                        <input type="text" class="filter-input" placeholder="選択してください">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">商品名</label>
                        <input type="text" class="filter-input" placeholder="商品名を入力">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">品番</label>
                        <input type="text" class="filter-input" placeholder="品番を入力">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">JAN</label>
                        <input type="text" class="filter-input" placeholder="JANコードを入力">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">SCMコード</label>
                        <input type="text" class="filter-input" placeholder="SCMコードを入力">
                    </div>

                    <div style="display: flex; gap: 12px; margin-top: 32px;">
                        <button class="btn btn-primary" style="flex: 1;">検索</button>
                        <button class="btn btn-secondary" style="flex: 1;">クリア</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile overlay -->
        <div class="mobile-overlay" id="mobile-overlay"></div>
    </div>

    <script>
        // Sidebar show/hide toggle
        (function () {
            const sidebar = document.querySelector('.sidebar');
            const toggleBtn = document.getElementById('sidebar-toggle');
            if (!sidebar || !toggleBtn) return;

            // Restore state from localStorage
            const saved = localStorage.getItem('scm.sidebar.collapsed');
            if (saved === '1') sidebar.classList.add('collapsed');

            toggleBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                sidebar.classList.toggle('collapsed');
                localStorage.setItem('scm.sidebar.collapsed', sidebar.classList.contains('collapsed') ? '1' : '0');
            });
        })();
        // Simple navigation functionality
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function (e) {
                e.preventDefault();

                // Update active state
                document.querySelectorAll('.nav-item').forEach(navItem => {
                    navItem.classList.remove('active');
                });
                this.classList.add('active');

                // Update page title
                const pageTitle = document.querySelector('.page-title');
                const pageTitles = {
                    '#dashboard': 'ダッシュボード',
                    '#quotation': '見積処理',
                    '#order': '受注処理',
                    '#delivery': '納品処理'
                    };
                pageTitle.textContent = pageTitles[this.getAttribute('href')] || 'ダッシュボード';

                // Show/hide views
                document.getElementById('dashboard-view').style.display =
                    this.getAttribute('href') === '#dashboard' ? 'block' : 'none';
                document.getElementById('quotation-view').style.display =
                    this.getAttribute('href') === '#quotation' ? 'block' : 'none';
                document.getElementById('order-view').style.display =
                    this.getAttribute('href') === '#order' ? 'block' : 'none';
                document.getElementById('delivery-view').style.display =
                    this.getAttribute('href') === '#delivery' ? 'block' : 'none';
                
                // Show/hide header warehouse dropdown (for quotation, order, and delivery views)
                const headerWarehouseDropdown = document.getElementById('header-warehouse-dropdown');
                if (headerWarehouseDropdown) {
                    const showDropdown = ['#quotation', '#order', '#delivery'].includes(this.getAttribute('href'));
                    headerWarehouseDropdown.style.display = showDropdown ? 'block' : 'none';
                    
                    // Apply warehouse background color when switching to warehouse views
                    if (showDropdown && typeof updateHeaderBackground === 'function') {
                        updateHeaderBackground(selectedWarehouse);
                    }
                }
                
                // Reset header background color when switching to dashboard
                const topBar = document.querySelector('.top-bar');
                if (topBar && this.getAttribute('href') === '#dashboard') {
                    topBar.style.background = '#fff'; // Reset to default when switching to dashboard
                }
                
                // Re-bind toggle buttons after view switch
                bindToggleButtons();
            });
        });

        // Dashboard status link functionality
        document.querySelectorAll('.status-link').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                
                const warehouse = this.getAttribute('data-warehouse');
                const action = this.getAttribute('data-action');
                
                if (action === 'quotation-unprocessed') {
                    // Set selected warehouse
                    selectedWarehouse = warehouse;
                    
                    // Switch to quotation view
                    document.querySelectorAll('.nav-item').forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    document.querySelector('.nav-item[href="#quotation"]').classList.add('active');
                    
                    // Update page title
                    const pageTitle = document.querySelector('.page-title');
                    pageTitle.textContent = '見積処理';
                    
                    // Show quotation view
                    document.getElementById('dashboard-view').style.display = 'none';
                    document.getElementById('quotation-view').style.display = 'block';
                    document.getElementById('order-view').style.display = 'none';
                    document.getElementById('delivery-view').style.display = 'none';
                    
                    // Show warehouse dropdown
                    const headerWarehouseDropdown = document.getElementById('header-warehouse-dropdown');
                    if (headerWarehouseDropdown) {
                        headerWarehouseDropdown.style.display = 'block';
                    }
                    
                    // Update warehouse dropdown button text and background
                    const warehouseDropdownBtn = document.getElementById('warehouse-dropdown-btn');
                    const warehouseBtnText = document.getElementById('warehouse-btn-text');
                    const warehouseName = warehouse === 'zama' ? '座間フルフィルメントセンター' : 
                                        warehouse === 'yokohama' ? '横浜フルフィルメントセンター' : 
                                        warehouse === 'koshien' ? '甲子園フルフィルメントセンター' : '全倉庫';
                    if (warehouseBtnText) {
                        warehouseBtnText.textContent = warehouseName;
                    }
                    
                    // Update header background color
                    if (typeof updateHeaderBackground === 'function') {
                        updateHeaderBackground(warehouse);
                    }
                    
                    // Set active tab to 未処理
                    const quotationTabs = document.querySelectorAll('#quotation-view .tab');
                    quotationTabs.forEach(tab => tab.classList.remove('active'));
                    const unprocessedTab = document.querySelector('#quotation-view .tab[data-status="unprocessed"]');
                    if (unprocessedTab) {
                        unprocessedTab.classList.add('active');
                    }
                    
                    // Re-bind toggle buttons after view switch
                    bindToggleButtons();
                } else if (action === 'order-unprocessed') {
                    // Set selected warehouse
                    selectedWarehouse = warehouse;
                    
                    // Switch to order view
                    document.querySelectorAll('.nav-item').forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    document.querySelector('.nav-item[href="#order"]').classList.add('active');
                    
                    // Update page title
                    const pageTitle = document.querySelector('.page-title');
                    pageTitle.textContent = '受注処理';
                    
                    // Show order view
                    document.getElementById('dashboard-view').style.display = 'none';
                    document.getElementById('quotation-view').style.display = 'none';
                    document.getElementById('order-view').style.display = 'block';
                    document.getElementById('delivery-view').style.display = 'none';
                    
                    // Show warehouse dropdown
                    const headerWarehouseDropdown = document.getElementById('header-warehouse-dropdown');
                    if (headerWarehouseDropdown) {
                        headerWarehouseDropdown.style.display = 'block';
                    }
                    
                    // Update warehouse dropdown button text and background
                    const warehouseDropdownBtn = document.getElementById('warehouse-dropdown-btn');
                    const warehouseBtnText = document.getElementById('warehouse-btn-text');
                    const warehouseName = warehouse === 'zama' ? '座間フルフィルメントセンター' : 
                                        warehouse === 'yokohama' ? '横浜フルフィルメントセンター' : 
                                        warehouse === 'koshien' ? '甲子園フルフィルメントセンター' : '全倉庫';
                    if (warehouseBtnText) {
                        warehouseBtnText.textContent = warehouseName;
                    }
                    
                    // Update header background color
                    if (typeof updateHeaderBackground === 'function') {
                        updateHeaderBackground(warehouse);
                    }
                    
                    // Set active tab to 未処理
                    const orderTabs = document.querySelectorAll('#order-view .tab');
                    orderTabs.forEach(tab => tab.classList.remove('active'));
                    const unprocessedOrderTab = document.querySelector('#order-view .tab:first-child'); // 最初のタブが未処理
                    if (unprocessedOrderTab) {
                        unprocessedOrderTab.classList.add('active');
                    }
                } else if (action === 'delivery-wait') {
                    // Set selected warehouse
                    selectedWarehouse = warehouse;
                    
                    // Switch to delivery view
                    document.querySelectorAll('.nav-item').forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    document.querySelector('.nav-item[href="#delivery"]').classList.add('active');
                    
                    // Update page title
                    const pageTitle = document.querySelector('.page-title');
                    pageTitle.textContent = '納品処理';
                    
                    // Show delivery view
                    document.getElementById('dashboard-view').style.display = 'none';
                    document.getElementById('quotation-view').style.display = 'none';
                    document.getElementById('order-view').style.display = 'none';
                    document.getElementById('delivery-view').style.display = 'block';
                    
                    // Show warehouse dropdown
                    const headerWarehouseDropdown = document.getElementById('header-warehouse-dropdown');
                    if (headerWarehouseDropdown) {
                        headerWarehouseDropdown.style.display = 'block';
                    }
                    
                    // Update warehouse dropdown button text and background
                    const warehouseDropdownBtn = document.getElementById('warehouse-dropdown-btn');
                    const warehouseBtnText = document.getElementById('warehouse-btn-text');
                    const warehouseName = warehouse === 'zama' ? '座間フルフィルメントセンター' : 
                                        warehouse === 'yokohama' ? '横浜フルフィルメントセンター' : 
                                        warehouse === 'koshien' ? '甲子園フルフィルメントセンター' : '全倉庫';
                    if (warehouseBtnText) {
                        warehouseBtnText.textContent = warehouseName;
                    }
                    
                    // Update header background color
                    if (typeof updateHeaderBackground === 'function') {
                        updateHeaderBackground(warehouse);
                    }
                    
                    // Set active tab to 出荷待
                    const deliveryTabs = document.querySelectorAll('#delivery-view .tab');
                    deliveryTabs.forEach(tab => tab.classList.remove('active'));
                    const waitTab = document.querySelector('#delivery-view .tab[data-tab="wait"]');
                    if (waitTab) {
                        waitTab.classList.add('active');
                    }
                    
                    // Show delivery wait container and hide delivered container
                    const deliveryWaitContainer = document.getElementById('delivery-wait-container');
                    const deliveredContainer = document.getElementById('delivered-container');
                    if (deliveryWaitContainer) deliveryWaitContainer.style.display = 'block';
                    if (deliveredContainer) deliveredContainer.style.display = 'none';
                }
            });
        });

        // (disabled) Filter panel toggle – kept for future use
        const filterOpenBtn = document.querySelector('.filter-btn.open-panel');
        if (filterOpenBtn) {
            filterOpenBtn.addEventListener('click', function () {
                document.querySelector('.filter-panel').classList.add('active');
            });
        }
        document.querySelector('.close-btn')?.addEventListener('click', function () {
            document.querySelector('.filter-panel').classList.remove('active');
        });

        // Sidebar user popup menu
        const userNameBtn = document.getElementById('user-name-btn');
        const userMenu = document.getElementById('user-menu');
        if (userNameBtn && userMenu) {
            userNameBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                userMenu.classList.toggle('show');
            });
            document.addEventListener('click', function () {
                userMenu.classList.remove('show');
            });
            userMenu.addEventListener('click', function (e) {
                if (!e.target.classList.contains('menu-item')) return;
                const action = e.target.getAttribute('data-action');
                if (action === 'settings') {
                    alert('設定を開きます。（ダミー）');
                } else if (action === 'help') {
                    alert('ヘルプを開きます。（ダミー）');
                } else if (action === 'logout') {
                    alert('ログアウトしました。（ダミー）');
                }
                userMenu.classList.remove('show');
            });
        }

        // Tab switching (and show/hide "見積中にする" button for quotation-view, "手配中にする" for order-view)
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function () {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                // If in quotation-view, toggle "見積中にする" button
                const quotationView = document.getElementById('quotation-view');
                if (quotationView && quotationView.style.display !== 'none') {
                    const processingBtn = document.getElementById('quotation-processing-btn');
                    if (processingBtn) {
                        if (this.textContent.includes('未処理')) {
                            processingBtn.style.display = '';
                        } else if (this.textContent.includes('見積中')) {
                            processingBtn.style.display = 'none';
                        }
                    }
                }
                // If in order-view, toggle buttons based on active tab
                const orderView = document.getElementById('order-view');
                if (orderView && orderView.style.display !== 'none') {
                    const toInProgressBtn = document.getElementById('btn-to-in-progress');
                    const toDoneBtn = document.getElementById('btn-to-done');
                    const delayBtn = document.getElementById('btn-delay');
                    const editBtn = document.getElementById('order-edit-btn');
                    const editBtnDelay = document.getElementById('order-edit-btn-delay');
                    const orderExportDropdown = document.getElementById('order-export-dropdown-btn');
                    const orderFaxBtn = document.getElementById('order-fax-modal-btn');
                    const orderDelayExportDropdown = document.getElementById('order-delay-export-dropdown');
                    const orderDelayFaxBtn = document.getElementById('order-delay-fax-modal-btn');
                    
                    if (toInProgressBtn && toDoneBtn && delayBtn && editBtn && editBtnDelay) {
                        const label = this.textContent;
                        const showDelayTabs = ['手配済', '在庫あり', '納期超過', 'BO'];
                        if (showDelayTabs.some(t => label.includes(t))) {
                            // 手配済／在庫あり／納期超過／BO では 遅延処理と編集ボタン（遅延処理用）を表示
                            toInProgressBtn.style.display = 'none';
                            toDoneBtn.style.display = 'none';
                            editBtn.style.display = 'none';
                            if (orderExportDropdown) orderExportDropdown.parentElement.style.display = 'none';
                            if (orderFaxBtn) orderFaxBtn.style.display = 'none';
                            delayBtn.style.display = '';
                            editBtnDelay.style.display = '';
                            if (orderDelayExportDropdown) orderDelayExportDropdown.style.display = 'inline-block';
                            if (orderDelayFaxBtn) orderDelayFaxBtn.style.display = '';
                        } else if (label.includes('手配中')) {
                            // 手配中では「手配済にする」と編集ボタンを表示
                            toInProgressBtn.style.display = 'none';
                            toDoneBtn.style.display = '';
                            editBtn.style.display = '';
                            if (orderExportDropdown) orderExportDropdown.parentElement.style.display = 'inline-block';
                            if (orderFaxBtn) orderFaxBtn.style.display = '';
                            delayBtn.style.display = 'none';
                            editBtnDelay.style.display = 'none';
                            if (orderDelayExportDropdown) orderDelayExportDropdown.style.display = 'none';
                            if (orderDelayFaxBtn) orderDelayFaxBtn.style.display = 'none';
                        } else {
                            // 未処理などその他タブでは 2ボタンと編集ボタンを表示、遅延処理は非表示
                            toInProgressBtn.style.display = '';
                            toDoneBtn.style.display = '';
                            editBtn.style.display = '';
                            if (orderExportDropdown) orderExportDropdown.parentElement.style.display = 'inline-block';
                            if (orderFaxBtn) orderFaxBtn.style.display = '';
                            delayBtn.style.display = 'none';
                            editBtnDelay.style.display = 'none';
                            if (orderDelayExportDropdown) orderDelayExportDropdown.style.display = 'none';
                            if (orderDelayFaxBtn) orderDelayFaxBtn.style.display = 'none';
                        }
                    }
                }
                // Re-bind toggle buttons after tab switch to ensure they work for new content
                bindToggleButtons();
            });
        });

        // Checkbox functionality
        const mainCheckbox = document.querySelector('th .checkbox');
        const dynamicActions = document.getElementById('dynamic-actions');

        // --- Pagination setup ---
        const orderTbody = document.querySelector('.data-table tbody');
        const allRows = Array.from(orderTbody.querySelectorAll('tr'));
        let filteredRows = allRows.slice();
        const perPage = 100; // 1ページあたり表示件数
        let currentPage = 1;

        function updateMainCheckboxState() {
            const visibleBoxes = document.querySelectorAll('tbody td .checkbox');
            const checkedCount = Array.from(visibleBoxes).filter(cb => cb.checked).length;
            if (mainCheckbox) {
                mainCheckbox.checked = checkedCount > 0 && checkedCount === visibleBoxes.length;
                mainCheckbox.indeterminate = checkedCount > 0 && checkedCount < visibleBoxes.length;
            }
        }

        function attachRowCheckboxListeners() {
            document.querySelectorAll('td .checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    updateActionButtons();
                    updateMainCheckboxState();
                });
            });
        }

        function buildPagination(totalPages) {
            const pager = document.getElementById('pagination');
            if (!pager) return;
            const shown = Math.min(totalPages, 3); // 1〜3ページ分を表示
            pager.innerHTML = '';
            const prev = document.createElement('button');
            prev.textContent = '前へ';
            prev.className = 'page-btn';
            prev.disabled = currentPage === 1;
            prev.addEventListener('click', () => renderPage(currentPage - 1));
            pager.appendChild(prev);
            for (let i = 1; i <= shown; i++) {
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.className = 'page-btn' + (i === currentPage ? ' active' : '');
                btn.addEventListener('click', () => renderPage(i));
                pager.appendChild(btn);
            }
            const next = document.createElement('button');
            next.textContent = '次へ';
            next.className = 'page-btn';
            const totalPagesAll = Math.ceil(filteredRows.length / perPage) || 1;
            next.disabled = currentPage >= totalPagesAll;
            next.addEventListener('click', () => renderPage(currentPage + 1));
            pager.appendChild(next);
        }

        function renderPage(page) {
            const totalPages = Math.ceil(filteredRows.length / perPage) || 1;
            currentPage = Math.max(1, Math.min(page, totalPages));
            orderTbody.innerHTML = '';
            const start = (currentPage - 1) * perPage;
            const end = start + perPage;
            filteredRows.slice(start, end).forEach(r => orderTbody.appendChild(r));
            // 再バインド
            attachRowCheckboxListeners();
            updateMainCheckboxState();
            updateActionButtons();
            buildPagination(totalPages);
            bindToggleButtons(); // 詳細表示ボタンのイベントリスナーを再バインド
        }

        function updateActionButtons() {
            const checkedBoxes = document.querySelectorAll('td .checkbox:checked');
            if (checkedBoxes.length > 0) {
                dynamicActions.classList.add('show');
            } else {
                dynamicActions.classList.remove('show');
            }
            const editBtn = document.getElementById('edit-btn');
            if (editBtn) editBtn.disabled = checkedBoxes.length === 0;
        }

        if (mainCheckbox) {
            mainCheckbox.addEventListener('change', function () {
                document.querySelectorAll('tbody td .checkbox').forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
                updateActionButtons();
                updateMainCheckboxState();
            });
        }

        // Individual checkbox listeners (re-attach after pagination render)
        function initCheckboxListeners() {
            attachRowCheckboxListeners();
        }
        initCheckboxListeners();

        renderPage(1);

        // Quotation search
        const qSearchInput = document.getElementById('quotation-search-input');
        const qSearchBtn = document.getElementById('quotation-search-btn');
        const qSearchForm = qSearchBtn?.closest('form');
        function applyQuotationSearch(query) {
            const q = (query || '').trim();
            if (!q) {
                filteredRows = allRows.slice();
            } else {
                const lc = q.toLowerCase();
                filteredRows = allRows.filter(tr => tr.textContent.toLowerCase().includes(lc));
            }
            renderPage(1);
        }
        qSearchBtn?.addEventListener('click', (e) => {
            e.preventDefault();
            applyQuotationSearch(qSearchInput?.value);
        });
        qSearchForm?.addEventListener('submit', (e) => {
            e.preventDefault();
            applyQuotationSearch(qSearchInput?.value);
        });
        qSearchInput?.addEventListener('keypress', (e) => { if (e.key === 'Enter') applyQuotationSearch(qSearchInput.value); });

        // Dropdown functionality
        const dropdownBtn = document.getElementById('stock-dropdown-btn');
        const dropdownMenu = document.getElementById('stock-dropdown-menu');
        const quotationSendBtn = document.getElementById('quotation-send-btn');
        const quotationProcessingBtn = document.getElementById('quotation-processing-btn');
        // Modal edit button & modal elements
        const editBtn = document.getElementById('edit-btn');
        const editModal = document.getElementById('edit-modal');
        const editCloseBtn = document.getElementById('edit-close-btn');
        const editApplyBtn = document.getElementById('edit-apply-btn');
        const assistSelect = document.getElementById('assist-select');
        const memoInput = document.getElementById('memo-input');
        const ownInput = document.getElementById('own-input');
        const editSelectedCount = document.getElementById('edit-selected-count');
        let selectedStockValue = null;

        // 初期状態: 見積送信ボタンはdisabled、見積中にするボタンはenabled
        if (quotationSendBtn) {
            quotationSendBtn.disabled = true;
        }
        if (quotationProcessingBtn) {
            quotationProcessingBtn.disabled = false;
            // Ensure default is visible (for 未処理)
            quotationProcessingBtn.style.display = '';
        }

        if (dropdownBtn && dropdownMenu) {
            dropdownBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                dropdownMenu.classList.toggle('show');
            });

            dropdownMenu.addEventListener('click', function (e) {
                if (e.target.classList.contains('dropdown-item')) {
                    const value = e.target.getAttribute('data-value');
                    const text = e.target.textContent;

                    // Update button text
                    if (value === 'none') {
                        dropdownBtn.innerHTML = '納期を選択する <span style="margin-left: 8px;">▼</span>';
                        selectedStockValue = null;
                        // 納期未選択時: 見積送信disabled、見積中にするenabled
                        if (quotationSendBtn) {
                            quotationSendBtn.disabled = true;
                        }
                        if (quotationProcessingBtn) {
                            quotationProcessingBtn.disabled = false;
                        }
                    } else {
                        dropdownBtn.innerHTML = text + ' <span style="margin-left: 8px;">▼</span>';
                        selectedStockValue = value;
                        // 納期選択時: 見積送信enabled、見積中にするdisabled
                        if (quotationSendBtn) {
                            quotationSendBtn.disabled = false;
                        }
                        if (quotationProcessingBtn) {
                            quotationProcessingBtn.disabled = true;
                        }
                    }

                    // Close dropdown
                    dropdownMenu.classList.remove('show');
                }
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function () {
                dropdownMenu.classList.remove('show');
            });
        }

        // Warehouse dropdown functionality
        const warehouseDropdownBtn = document.getElementById('warehouse-dropdown-btn');
        const warehouseDropdownMenu = document.getElementById('warehouse-dropdown-menu');
        let selectedWarehouse = 'all';

        // Function to update header background color
        function updateHeaderBackground(warehouse) {
            const topBar = document.querySelector('.top-bar');
            const warehouseBtn = document.getElementById('warehouse-dropdown-btn');
            const warehouseBtnText = document.getElementById('warehouse-btn-text');
            
            if (topBar) {
                // Reset to default background
                topBar.style.background = '#fff';
                
                // Apply warehouse-specific background color and text color
                switch (warehouse) {
                    case 'zama':
                        topBar.style.background = '#d1fae5'; // 座間倉庫の緑系
                        if (warehouseBtn) warehouseBtn.style.color = '#059669'; // 緑系テキスト
                        if (warehouseBtnText) warehouseBtnText.style.color = '#059669';
                        break;
                    case 'yokohama':
                        topBar.style.background = '#fef9c3'; // 横浜倉庫の黄系
                        if (warehouseBtn) warehouseBtn.style.color = '#d97706'; // 黄系テキスト
                        if (warehouseBtnText) warehouseBtnText.style.color = '#d97706';
                        break;
                    case 'koshien':
                        topBar.style.background = '#fee2e2'; // 甲子園倉庫の赤系
                        if (warehouseBtn) warehouseBtn.style.color = '#dc2626'; // 赤系テキスト
                        if (warehouseBtnText) warehouseBtnText.style.color = '#dc2626';
                        break;
                    default:
                        topBar.style.background = '#fff'; // 全倉庫はデフォルト
                        if (warehouseBtn) warehouseBtn.style.color = '#374151'; // デフォルトテキスト色
                        if (warehouseBtnText) warehouseBtnText.style.color = '#374151';
                        break;
                }
            }
        }

        // Function to check if current view supports warehouse selection
        function isWarehouseViewActive() {
            const quotationView = document.getElementById('quotation-view');
            const orderView = document.getElementById('order-view');
            const deliveryView = document.getElementById('delivery-view');
            
            return (quotationView && quotationView.style.display !== 'none') ||
                   (orderView && orderView.style.display !== 'none') ||
                   (deliveryView && deliveryView.style.display !== 'none');
        }

        if (warehouseDropdownBtn && warehouseDropdownMenu) {
            warehouseDropdownBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                warehouseDropdownMenu.classList.toggle('show');
            });

            warehouseDropdownMenu.addEventListener('click', function (e) {
                if (e.target.classList.contains('dropdown-item')) {
                    const warehouse = e.target.getAttribute('data-warehouse');
                    const warehouseName = e.target.textContent;
                    selectedWarehouse = warehouse;
                    
                    // Update button text
                    const warehouseBtnText = document.getElementById('warehouse-btn-text');
                    if (warehouseBtnText) {
                        warehouseBtnText.textContent = warehouseName;
                    }
                    
                    // Update header background color if warehouse view is active
                    if (isWarehouseViewActive()) {
                        updateHeaderBackground(warehouse);
                    }
                    
                    // Close dropdown
                    warehouseDropdownMenu.classList.remove('show');
                    
                    // Filter table based on selected warehouse (実装例)
                    console.log(`Selected warehouse: ${warehouse} (${warehouseName})`);
                    // ここで実際のフィルタリング処理を実装できます
                }
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function () {
                warehouseDropdownMenu.classList.remove('show');
            });
        }

        // 見積送信ボタンを押したとき、在庫選択が必須
        if (quotationSendBtn) {
            quotationSendBtn.addEventListener('click', function () {
                if (!selectedStockValue) {
                    alert('在庫状況を選択してください。');
                    return;
                }
                const checkedCount = document.querySelectorAll('td .checkbox:checked').length;
                alert(`${checkedCount}件の商品を「${dropdownBtn.textContent.replace('▼', '').trim()}」で見積送信しました。`);
            });
        }

        // 見積中にするボタンは納期未選択時のみ有効
        document.getElementById('quotation-processing-btn')?.addEventListener('click', function () {
            if (this.disabled) {
                return; // disabled状態では何もしない
            }
            const checkedCount = document.querySelectorAll('td .checkbox:checked').length;
            alert(`${checkedCount}件の商品を見積中にしました。`);
        });

        // New function to handle details toggle
        function bindToggleButtons() {
            const toggleButtons = document.querySelectorAll('.toggle-details-btn');
            toggleButtons.forEach(button => {
                // Avoid attaching multiple listeners
                if (button.dataset.listenerAttached) return;
                button.dataset.listenerAttached = 'true';

                button.addEventListener('click', function () {
                    const dataRow = this.closest('.data-row');
                    const detailsRow = dataRow.nextElementSibling;

                    if (detailsRow && detailsRow.classList.contains('details-row')) {
                        const isExpanded = this.getAttribute('aria-expanded') === 'true';
                        this.setAttribute('aria-expanded', !isExpanded);
                        dataRow.classList.toggle('open');
                        detailsRow.style.display = isExpanded ? 'none' : 'table-row';
                    }
                });
            });
        }

        // Initial call to bind toggle buttons
        bindToggleButtons();
    </script>
    <script>
        // ====== Delivery View: behaviors (tabs, selection, actions) ======
        (function () {
            const root = document.getElementById('delivery-view');
            if (!root) return;

            const tabs = root.querySelectorAll('#delivery-tabs .tab');
            const waitContainer = document.getElementById('delivery-wait-container');
            const doneContainer = document.getElementById('delivery-done-container');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    const isWait = tab.getAttribute('data-tab') === 'wait';
                    waitContainer.style.display = isWait ? 'block' : 'none';
                    doneContainer.style.display = isWait ? 'none' : 'block';
                });
            });

            // ===== 出荷待タブのページネーション =====
            const waitTbody = document.querySelector('#delivery-wait-table tbody');
            const waitRows = Array.from(waitTbody.querySelectorAll('tr.data-row'));
            let waitFiltered = waitRows.slice();
            const waitPerPage = 20;
            let waitCurrentPage = 1;
            const waitPager = document.getElementById('delivery-pagination');

            function renderWaitPage(page) {
                const totalPages = Math.ceil(waitFiltered.length / waitPerPage) || 1;
                waitCurrentPage = Math.max(1, Math.min(page, totalPages));
                
                // テーブルをクリア
                waitTbody.innerHTML = '';
                
                // 現在のページのデータを表示
                const start = (waitCurrentPage - 1) * waitPerPage;
                const end = start + waitPerPage;
                const pageRows = waitFiltered.slice(start, end);
                
                pageRows.forEach(row => {
                    waitTbody.appendChild(row);
                    // 詳細行も追加
                    const nextSibling = row.nextElementSibling;
                    if (nextSibling && nextSibling.classList.contains('details-row')) {
                        waitTbody.appendChild(nextSibling);
                    }
                });
                
                // チェックボックスのイベントリスナーを再バインド
                bindRowCbs();
                // ページネーションボタンを更新
                buildWaitPagination(totalPages);
                updateActions();
            }

            function buildWaitPagination(totalPages) {
                if (!waitPager) return;
                waitPager.innerHTML = '';
                
                const prev = document.createElement('button');
                prev.textContent = '前へ';
                prev.className = 'page-btn';
                prev.disabled = waitCurrentPage === 1;
                prev.addEventListener('click', () => renderWaitPage(waitCurrentPage - 1));
                waitPager.appendChild(prev);
                
                for (let i = 1; i <= Math.min(totalPages, 5); i++) {
                    const btn = document.createElement('button');
                    btn.textContent = i;
                    btn.className = 'page-btn';
                    if (i === waitCurrentPage) btn.classList.add('active');
                    btn.addEventListener('click', () => renderWaitPage(i));
                    waitPager.appendChild(btn);
                }
                
                const next = document.createElement('button');
                next.textContent = '次へ';
                next.className = 'page-btn';
                next.disabled = waitCurrentPage >= totalPages;
                next.addEventListener('click', () => renderWaitPage(waitCurrentPage + 1));
                waitPager.appendChild(next);
            }

            // ===== 出荷済タブのページネーション =====
            const doneTbody = document.querySelector('#delivery-done-table tbody');
            const doneRows = Array.from(doneTbody.querySelectorAll('tr.data-row'));
            let doneFiltered = doneRows.slice();
            const donePerPage = 20;
            let doneCurrentPage = 1;
            const donePager = document.getElementById('delivered-pagination');

            function renderDonePage(page) {
                const totalPages = Math.ceil(doneFiltered.length / donePerPage) || 1;
                doneCurrentPage = Math.max(1, Math.min(page, totalPages));
                
                // テーブルをクリア
                doneTbody.innerHTML = '';
                
                // 現在のページのデータを表示
                const start = (doneCurrentPage - 1) * donePerPage;
                const end = start + donePerPage;
                const pageRows = doneFiltered.slice(start, end);
                
                pageRows.forEach(row => {
                    doneTbody.appendChild(row);
                    // 詳細行も追加
                    const nextSibling = row.nextElementSibling;
                    if (nextSibling && nextSibling.classList.contains('details-row')) {
                        doneTbody.appendChild(nextSibling);
                    }
                });
                
                // ページネーションボタンを更新
                buildDonePagination(totalPages);
            }

            function buildDonePagination(totalPages) {
                if (!donePager) return;
                donePager.innerHTML = '';
                
                const prev = document.createElement('button');
                prev.textContent = '前へ';
                prev.className = 'page-btn';
                prev.disabled = doneCurrentPage === 1;
                prev.addEventListener('click', () => renderDonePage(doneCurrentPage - 1));
                donePager.appendChild(prev);
                
                for (let i = 1; i <= Math.min(totalPages, 5); i++) {
                    const btn = document.createElement('button');
                    btn.textContent = i;
                    btn.className = 'page-btn';
                    if (i === doneCurrentPage) btn.classList.add('active');
                    btn.addEventListener('click', () => renderDonePage(i));
                    donePager.appendChild(btn);
                }
                
                const next = document.createElement('button');
                next.textContent = '次へ';
                next.className = 'page-btn';
                next.disabled = doneCurrentPage >= totalPages;
                next.addEventListener('click', () => renderDonePage(doneCurrentPage + 1));
                donePager.appendChild(next);
            }

            // 出荷待テーブルのチェックボックスとアクション
            const mainCb = document.getElementById('delivery-main-checkbox');
            const actions = document.getElementById('delivery-actions');
            const tbody = document.querySelector('#delivery-wait-table tbody');
            const dateInput = document.getElementById('delivery-date');
            const shipBtn = document.getElementById('btn-ship');
            const backBtn = document.getElementById('btn-back-to-arranged');
            const carrierSel = document.getElementById('carrier-select');
            const trackingInp = document.getElementById('tracking-input');
            const setTrackingBtn = document.getElementById('btn-set-tracking');

            // date初期値は今日
            if (dateInput && !dateInput.value) {
                const t = new Date();
                const y = t.getFullYear();
                const m = String(t.getMonth() + 1).padStart(2, '0');
                const d = String(t.getDate()).padStart(2, '0');
                dateInput.value = `${y}-${m}-${d}`;
            }

            function selectedCount() {
                return root.querySelectorAll('#delivery-wait-table tbody td .checkbox:checked').length;
            }
            function updateActions() {
                const hasSel = selectedCount() > 0;
                actions.classList.toggle('show', hasSel);
                backBtn.disabled = !hasSel;
                shipBtn.disabled = !(hasSel && !!dateInput.value);
                
                // 編集ボタンとエクスポート/FAXボタンの表示制御
                const editBtn = document.getElementById('delivery-edit-btn');
                const exportDropdown = document.getElementById('delivery-export-dropdown');
                const faxBtn = document.getElementById('delivery-fax-modal-btn');
                if (editBtn) editBtn.style.display = hasSel ? '' : 'none';
                if (exportDropdown) exportDropdown.style.display = hasSel ? 'inline-block' : 'none';
                if (faxBtn) faxBtn.style.display = hasSel ? '' : 'none';
            }

            function bindRowCbs() {
                root.querySelectorAll('#delivery-wait-table tbody td .checkbox').forEach(cb => {
                    cb.addEventListener('change', updateActions);
                });
            }

            mainCb?.addEventListener('change', function () {
                root.querySelectorAll('#delivery-wait-table tbody td .checkbox').forEach(cb => { cb.checked = mainCb.checked; });
                updateActions();
            });
            dateInput?.addEventListener('change', updateActions);

            // ボタン動作（ダミー）
            backBtn?.addEventListener('click', () => {
                alert(`${selectedCount()}件を手配済に戻しました。`);
            });
            shipBtn?.addEventListener('click', () => {
                if (shipBtn.disabled) return;
                alert(`${selectedCount()}件を ${dateInput.value} に出荷しました。`);
            });

            // 検索（簡易フィルタ）
            const dSearchInput = document.getElementById('delivery-search-input');
            const dSearchBtn = document.getElementById('delivery-search-btn');
            const dSearchForm = dSearchBtn?.closest('form');
            
            function performDeliverySearch() {
                const q = (dSearchInput?.value || '').toLowerCase();
                if (!q) {
                    waitFiltered = waitRows.slice();
                } else {
                    waitFiltered = waitRows.filter(row => row.textContent.toLowerCase().includes(q));
                }
                renderWaitPage(1);
            }
            
            dSearchBtn?.addEventListener('click', (e) => {
                e.preventDefault();
                performDeliverySearch();
            });
            dSearchForm?.addEventListener('submit', (e) => {
                e.preventDefault();
                performDeliverySearch();
            });

            const doneSearchInput = document.getElementById('delivered-search-input');
            const doneSearchBtn = document.getElementById('delivered-search-btn');
            const doneSearchForm = doneSearchBtn?.closest('form');
            
            function performDeliveredSearch() {
                const q = (doneSearchInput?.value || '').toLowerCase();
                if (!q) {
                    doneFiltered = doneRows.slice();
                } else {
                    doneFiltered = doneRows.filter(row => row.textContent.toLowerCase().includes(q));
                }
                renderDonePage(1);
            }
            
            doneSearchBtn?.addEventListener('click', (e) => {
                e.preventDefault();
                performDeliveredSearch();
            });
            doneSearchForm?.addEventListener('submit', (e) => {
                e.preventDefault();
                performDeliveredSearch();
            });

            // 初期化
            renderWaitPage(1);
            renderDonePage(1);
            updateActions();
        })();
    </script>
    <script>
        // ====== Order View: scoped behaviors (pagination, checkboxes, dropdown) ======
        (function () {
            const container = document.getElementById('order-view');
            if (!container) return;

            const tbody = container.querySelector('#order-data-table tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            let filtered = rows.slice();
            const perPage = 20;
            let current = 1;

            const mainCb = container.querySelector('#order-main-checkbox');
            const actions = container.querySelector('#order-dynamic-actions');
            const selectedPanel = container.querySelector('#order-selected-info');
            const selectedCount = container.querySelector('#order-selected-count');
            const selectedBody = container.querySelector('#order-selected-info-tbody');
            const pager = container.querySelector('#order-pagination');
            // Declare button refs early
            const orderDate = container.querySelector('#order-date');
            // Set default to today's date if empty
            if (orderDate && !orderDate.value) {
                const today = new Date();
                const yyyy = today.getFullYear();
                const mm = String(today.getMonth() + 1).padStart(2, '0');
                const dd = String(today.getDate()).padStart(2, '0');
                orderDate.value = `${yyyy}-${mm}-${dd}`;
            }
            const toShipWaitBtn = container.querySelector('#btn-to-shipment-wait');
            const toInProgressBtn = container.querySelector('#btn-to-in-progress');
            const toDoneBtn = container.querySelector('#btn-to-done');
            const delayBtn = container.querySelector('#btn-delay');
            const delayModal = document.getElementById('delay-modal');
            const delayUndecided = document.getElementById('delay-undecided');
            const delayScheduled = document.getElementById('delay-scheduled');
            const delayDate = document.getElementById('delay-date');
            const delayReason = document.getElementById('delay-reason');
            const delayApplyBtn = document.getElementById('delay-apply-btn');
            const delayCloseBtn = document.getElementById('delay-close-btn');

            function updateMainCheckbox() {
                const boxes = Array.from(container.querySelectorAll('tbody td .checkbox'));
                const checked = boxes.filter(b => b.checked).length;
                if (mainCb) {
                    mainCb.checked = checked > 0 && checked === boxes.length;
                    mainCb.indeterminate = checked > 0 && checked < boxes.length;
                }
            }
            function updateActions() {
                const checked = container.querySelectorAll('tbody td .checkbox:checked').length;
                if (actions) {
                    actions.classList.toggle('show', checked > 0);
                }
            }
            // Add a state updater for buttons
            function updateButtonStates() {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                const hasDate = !!(orderDate && orderDate.value);
                if (toInProgressBtn) toInProgressBtn.disabled = count === 0;
                if (toDoneBtn) toDoneBtn.disabled = count === 0;
                if (toShipWaitBtn) toShipWaitBtn.disabled = !(count > 0 && hasDate);
                if (delayBtn) delayBtn.disabled = count === 0;
                
                // 編集ボタンの状態を更新
                const editBtn = container.querySelector('#order-edit-btn');
                const editBtnDelay = container.querySelector('#order-edit-btn-delay');
                if (editBtn) editBtn.disabled = count === 0;
                if (editBtnDelay) editBtnDelay.disabled = count === 0;
            }
            function renderSelected() {
                const checked = Array.from(container.querySelectorAll('tbody td .checkbox:checked'));
                if (checked.length === 0) {
                    if (selectedPanel) selectedPanel.style.display = 'none';
                    if (selectedBody) selectedBody.innerHTML = '';
                    if (selectedCount) selectedCount.textContent = '0件選択中';
                    return;
                }
                const html = checked.map(cb => {
                    const tr = cb.closest('tr');
                    const cells = Array.from(tr.querySelectorAll('td')).map(td => td.textContent.trim());
                    const [date, scm, maker, name, code, jan, price, cost, qty, own, memo] = cells.slice(1);
                    return `<tr><td>${maker || ''}</td><td>${name || ''}</td><td>${code || ''}</td><td>${jan || ''}</td><td style="text-align:right;">${qty || ''}</td></tr>`;
                }).join('');
                if (selectedBody) selectedBody.innerHTML = html;
                if (selectedCount) selectedCount.textContent = `${checked.length}件選択中`;
                if (selectedPanel) selectedPanel.style.display = 'block';
            }
            function bindRowCheckboxes() {
                container.querySelectorAll('tbody td .checkbox').forEach(cb => {
                    cb.addEventListener('change', () => {
                        updateActions();
                        renderSelected();
                        updateMainCheckbox();
                        updateButtonStates();
                    });
                });
            }
            function buildPager(total) {
                if (!pager) return;
                pager.innerHTML = '';
                const prev = document.createElement('button');
                prev.textContent = '前へ';
                prev.className = 'page-btn';
                prev.disabled = current === 1;
                prev.addEventListener('click', () => renderPage(current - 1));
                pager.appendChild(prev);
                const shown = Math.min(total, 5);
                for (let i = 1; i <= shown; i++) {
                    const b = document.createElement('button');
                    b.textContent = String(i);
                    b.className = 'page-btn' + (i === current ? ' active' : '');
                    b.addEventListener('click', () => renderPage(i));
                    pager.appendChild(b);
                }
                const next = document.createElement('button');
                next.textContent = '次へ';
                next.className = 'page-btn';
                const totalPages = Math.ceil(filtered.length / perPage) || 1;
                next.disabled = current >= totalPages;
                next.addEventListener('click', () => renderPage(current + 1));
                pager.appendChild(next);
            }
            function renderPage(p) {
                const total = Math.ceil(filtered.length / perPage) || 1;
                current = Math.max(1, Math.min(p, total));
                tbody.innerHTML = '';
                const s = (current - 1) * perPage, e = s + perPage;
                filtered.slice(s, e).forEach(r => tbody.appendChild(r));
                bindRowCheckboxes();
                updateMainCheckbox();
                updateActions();
                buildPager(total);
                updateButtonStates();
            }
            mainCb?.addEventListener('change', function () {
                container.querySelectorAll('tbody td .checkbox').forEach(cb => cb.checked = this.checked);
                updateActions();
                renderSelected();
                updateMainCheckbox();
                updateButtonStates();
            });

            // 編集ボタン：見積処理と同じモーダルを開く
            const editBtn = container.querySelector('#order-edit-btn');
            editBtn?.addEventListener('click', () => {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                if (count === 0) return;
                // open the shared modal
                if (typeof openEditModal === 'function') {
                    openEditModal();
                }
            });

            // 遅延処理用編集ボタン：見積処理と同じモーダルを開く
            const editBtnDelay = container.querySelector('#order-edit-btn-delay');
            editBtnDelay?.addEventListener('click', () => {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                if (count === 0) return;
                // open the shared modal
                if (typeof openEditModal === 'function') {
                    openEditModal();
                }
            });

            // Delay modal handlers
            function openDelayModal() {
                if (!delayModal) return;
                // default radio/date state
                if (delayUndecided) delayUndecided.checked = true;
                if (delayScheduled) delayScheduled.checked = false;
                if (delayDate) { delayDate.value = ''; delayDate.disabled = true; }
                if (delayReason) delayReason.value = '';
                delayModal.classList.add('show');
            }
            function closeDelayModal() { if (delayModal) delayModal.classList.remove('show'); }

            delayUndecided?.addEventListener('change', () => { if (delayUndecided.checked && delayDate) delayDate.disabled = true; });
            delayScheduled?.addEventListener('change', () => { if (delayScheduled.checked && delayDate) delayDate.disabled = false; });

            delayBtn?.addEventListener('click', () => {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                if (count === 0) { alert('対象の受注を選択してください。'); return; }
                openDelayModal();
            });

            delayCloseBtn?.addEventListener('click', closeDelayModal);

            delayApplyBtn?.addEventListener('click', () => {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                if (count === 0) { alert('対象の受注を選択してください。'); return; }
                const status = delayScheduled && delayScheduled.checked ? '発送予定' : '未定';
                const dateText = (status === '発送予定' && delayDate && delayDate.value) ? delayDate.value : (status === '発送予定' ? '日付未選択' : '—');
                const reasonText = delayReason && delayReason.options[delayReason.selectedIndex] ? delayReason.options[delayReason.selectedIndex].text : '—';
                if (status === '発送予定' && (!delayDate || !delayDate.value)) { alert('発送予定日を選択してください。'); return; }
                if (!delayReason || !delayReason.value) { alert('遅延理由を選択してください。'); return; }
                alert(`${count}件の受注に「遅延処理」を適用しました\n状態: ${status}${status === '発送予定' ? '（' + dateText + '）' : ''}\n理由: ${reasonText}`);
                closeDelayModal();
            });

            // 初期化
            renderPage(1);
            renderSelected();

            // Call the updater when the date changes
            orderDate?.addEventListener('change', updateButtonStates);
            // Initialize disabled state on load
            updateButtonStates();

            // Order search
            const oSearchInput = document.getElementById('order-search-input');
            const oSearchBtn = document.getElementById('order-search-btn');
            const oSearchForm = oSearchBtn?.closest('form');
            function applyOrderSearch(query) {
                const q = (query || '').trim();
                if (!q) {
                    filtered = rows.slice();
                } else {
                    const lc = q.toLowerCase();
                    filtered = rows.filter(tr => tr.textContent.toLowerCase().includes(lc));
                }
                renderPage(1);
            }
            oSearchBtn?.addEventListener('click', (e) => {
                e.preventDefault();
                applyOrderSearch(oSearchInput?.value);
            });
            oSearchForm?.addEventListener('submit', (e) => {
                e.preventDefault();
                applyOrderSearch(oSearchInput?.value);
            });
            oSearchInput?.addEventListener('keypress', (e) => { if (e.key === 'Enter') applyOrderSearch(oSearchInput.value); });

            // Status transition button handlers (keep only event listeners, not duplicate declarations)
            function ensureSelection() {
                const count = container.querySelectorAll('tbody td .checkbox:checked').length;
                return count;
            }
            function dateText() {
                return (orderDate && orderDate.value) ? orderDate.value : '日付未選択';
            }

            toShipWaitBtn?.addEventListener('click', () => {
                const count = ensureSelection();
                if (count === 0) { alert('対象の受注を選択してください。'); return; }
                alert(`${count}件を「出荷待ち」に変更しました（基準日: ${dateText()}）。`);
            });

            toInProgressBtn?.addEventListener('click', () => {
                const count = ensureSelection();
                if (count === 0) { alert('対象の受注を選択してください。'); return; }
                alert(`${count}件を「手配中」に変更しました（基準日: ${dateText()}）。`);
            });

            toDoneBtn?.addEventListener('click', () => {
                const count = ensureSelection();
                if (count === 0) { alert('対象の受注を選択してください。'); return; }
                alert(`${count}件を「手配済」に変更しました（基準日: ${dateText()}）。`);
            });
        })();
    </script>
    <script>
        // --- Modal helpers ---
        function openEditModal() {
            const count = document.querySelectorAll('tbody td .checkbox:checked').length;
            if (editSelectedCount) editSelectedCount.textContent = `選択された商品 ${count}件`;
            if (editModal) editModal.classList.add('show');
        }
        function closeEditModal() { if (editModal) editModal.classList.remove('show'); }

        // --- Edit button open modal ---
        if (editBtn) {
            editBtn.disabled = true;
            editBtn.addEventListener('click', function () {
                const count = document.querySelectorAll('tbody td .checkbox:checked').length;
                if (count === 0) return;
                openEditModal();
            });
        }

        // --- Modal close actions ---
        editCloseBtn?.addEventListener('click', closeEditModal);
        editModal?.addEventListener('click', function (e) {
            if (e.target === editModal) closeEditModal();
        });

        // --- 入力支援: テンプレ反映 ---
        if (assistSelect) {
            assistSelect.addEventListener('change', function () {
                if (this.value) memoInput.value = this.value;
            });
        }

        // --- 更新ボタン: 選択行へ反映 ---
        if (editApplyBtn) {
            editApplyBtn.addEventListener('click', function () {
                const memo = memoInput?.value ?? '';
                const own = ownInput?.value ?? '';
                const checked = Array.from(document.querySelectorAll('tbody td .checkbox:checked'));
                checked.forEach(cb => {
                    const tr = cb.closest('tr');
                    if (!tr) return;
                    const tds = tr.querySelectorAll('td');
                    if (tds[10]) tds[10].textContent = own;   // 自社管理番号
                    if (tds[11]) tds[11].textContent = memo;  // 担当者備考
                });
                // 下部パネルの再描画とモーダルを閉じる
                closeEditModal();
            });
        }
    </script>
    <script>
        (function () {
            // --- 追跡番号設定モーダル ---
            const setTrackingModalBtn = document.getElementById('btn-set-tracking-modal');
            const trackingModal = document.getElementById('tracking-modal');
            const trackingCloseBtn = document.getElementById('tracking-close-btn');
            const trackingApplyBtn = document.getElementById('tracking-apply-btn');
            const modalCarrierSelect = document.getElementById('modal-carrier-select');
            const modalTrackingInput = document.getElementById('modal-tracking-input');
            const trackingSelectedCount = document.getElementById('tracking-selected-count');
            const deliveryTable = document.getElementById('delivery-wait-table');

            function getSelectedRows() {
                return Array.from(deliveryTable.querySelectorAll('tbody td .checkbox:checked'));
            }
            function updateTrackingBtnState() {
                setTrackingModalBtn.disabled = getSelectedRows().length === 0;
            }
            // チェックボックス変更時にボタン状態更新
            deliveryTable.querySelectorAll('tbody td .checkbox').forEach(cb => {
                cb.addEventListener('change', updateTrackingBtnState);
            });
            document.getElementById('delivery-main-checkbox')?.addEventListener('change', updateTrackingBtnState);
            // 初期状態
            updateTrackingBtnState();

            // ボタン押下でモーダル表示
            setTrackingModalBtn.addEventListener('click', function () {
                const selected = getSelectedRows();
                trackingSelectedCount.textContent = `選択された明細 ${selected.length}件`;
                modalCarrierSelect.value = 'yamato';
                modalTrackingInput.value = '';
                trackingModal.classList.add('show');
            });
            // モーダル閉じる
            trackingCloseBtn.addEventListener('click', function () {
                trackingModal.classList.remove('show');
            });
            trackingModal.addEventListener('click', function (e) {
                if (e.target === trackingModal) trackingModal.classList.remove('show');
            });
            // 保存ボタンで選択行に反映
            trackingApplyBtn.addEventListener('click', function () {
                const carrierText = modalCarrierSelect.options[modalCarrierSelect.selectedIndex]?.text || '';
                const trackingNo = modalTrackingInput.value.trim();
                if (!trackingNo) {
                    alert('追跡番号を入力してください。');
                    return;
                }
                const selected = getSelectedRows();
                selected.forEach(cb => {
                    const tr = cb.closest('tr');
                    if (!tr) return;
                    const tds = tr.querySelectorAll('td');
                    if (tds[10]) tds[10].textContent = carrierText; // 運送会社
                    if (tds[11]) tds[11].textContent = trackingNo;  // 追跡番号
                });
                trackingModal.classList.remove('show');
            });
        })();
    </script>
    <script>
        // アップデート情報モーダル機能
        (function () {
            const updateTitle = document.getElementById('update-title');
            const updateModal = document.getElementById('update-modal');
            const updateModalClose = document.getElementById('update-modal-close');
            const updateNotification = document.getElementById('update-notification');
            const newBadge = document.getElementById('new-badge');

            // ローカルストレージから既読状態を取得
            const isRead = localStorage.getItem('update-2025-08-18-read') === 'true';

            // 初期状態の設定
            if (isRead) {
                updateNotification.classList.remove('unread');
                updateNotification.classList.add('read');
                if (newBadge) {
                    newBadge.style.display = 'none';
                }
            }

            // タイトルクリックでモーダル表示
            updateTitle.addEventListener('click', function(e) {
                e.preventDefault();
                updateModal.classList.add('show');
                
                // 既読状態に変更
                if (!isRead) {
                    updateNotification.classList.remove('unread');
                    updateNotification.classList.add('read');
                    if (newBadge) {
                        newBadge.style.display = 'none';
                    }
                    localStorage.setItem('update-2025-08-18-read', 'true');
                }
            });

            // モーダル閉じる
            updateModalClose.addEventListener('click', function() {
                updateModal.classList.remove('show');
            });

            // モーダル背景クリックで閉じる
            updateModal.addEventListener('click', function(e) {
                if (e.target === updateModal) {
                    updateModal.classList.remove('show');
                }
            });

            // ESCキーでモーダル閉じる
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && updateModal.classList.contains('show')) {
                    updateModal.classList.remove('show');
                }
            });
        })();
    </script>
    <script>
        // Mobile responsive functionality
        (function() {
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const desktopToggleBtn = document.getElementById('sidebar-toggle');
            const sidebar = document.querySelector('.sidebar');
            const mobileOverlay = document.getElementById('mobile-overlay');
            
            // Show/hide buttons based on screen size
            function updateButtonVisibility() {
                const isMobile = window.innerWidth <= 768;
                if (mobileMenuBtn && desktopToggleBtn) {
                    mobileMenuBtn.style.display = isMobile ? 'flex' : 'none';
                    desktopToggleBtn.style.display = isMobile ? 'none' : 'flex';
                }
            }
            
            // Mobile menu toggle
            function toggleMobileMenu() {
                if (sidebar && mobileOverlay) {
                    const isOpen = sidebar.classList.contains('mobile-open');
                    if (isOpen) {
                        sidebar.classList.remove('mobile-open');
                        mobileOverlay.classList.remove('show');
                    } else {
                        sidebar.classList.add('mobile-open');
                        mobileOverlay.classList.add('show');
                    }
                }
            }
            
            // Close mobile menu
            function closeMobileMenu() {
                if (sidebar && mobileOverlay) {
                    sidebar.classList.remove('mobile-open');
                    mobileOverlay.classList.remove('show');
                }
            }
            
            // Event listeners
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            }
            
            if (mobileOverlay) {
                mobileOverlay.addEventListener('click', closeMobileMenu);
            }
            
            // Close mobile menu when clicking nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        closeMobileMenu();
                    }
                });
            });
            
            // Handle window resize
            window.addEventListener('resize', () => {
                updateButtonVisibility();
                // Close mobile menu on resize to desktop
                if (window.innerWidth > 768) {
                    closeMobileMenu();
                }
            });
            
            // Initial setup
            updateButtonVisibility();
        })();

        // ====== Event Listeners for CSV Export and FAX Output Buttons ======
        (function() {
            // 見積処理 - CSVエクスポート
            const quotationExportBtn = document.getElementById('export-csv-btn');
            if (quotationExportBtn) {
                quotationExportBtn.addEventListener('click', function() {
                    alert('見積処理のCSVエクスポートを実行しました。');
                });
            }

            // 見積処理 - FAX出力
            const quotationFaxBtn = document.getElementById('fax-modal-btn');
            if (quotationFaxBtn) {
                quotationFaxBtn.addEventListener('click', function() {
                    alert('見積処理のFAX出力モーダルを開きます。');
                });
            }

            // 受注処理 - CSVエクスポート（通常）
            const orderExportBtn = document.getElementById('order-export-csv-btn');
            if (orderExportBtn) {
                orderExportBtn.addEventListener('click', function() {
                    alert('受注処理のCSVエクスポートを実行しました。');
                });
            }

            // 受注処理 - FAX出力（通常）
            const orderFaxBtn = document.getElementById('order-fax-modal-btn');
            if (orderFaxBtn) {
                orderFaxBtn.addEventListener('click', function() {
                    alert('受注処理のFAX出力モーダルを開きます。');
                });
            }

            // 受注処理 - CSVエクスポート（遅延処理用）
            const orderDelayExportBtn = document.getElementById('order-delay-export-csv-btn');
            if (orderDelayExportBtn) {
                orderDelayExportBtn.addEventListener('click', function() {
                    alert('受注処理（遅延処理）のCSVエクスポートを実行しました。');
                });
            }

            // 受注処理 - FAX出力（遅延処理用）
            const orderDelayFaxBtn = document.getElementById('order-delay-fax-modal-btn');
            if (orderDelayFaxBtn) {
                orderDelayFaxBtn.addEventListener('click', function() {
                    alert('受注処理（遅延処理）のFAX出力モーダルを開きます。');
                });
            }

            // 納期調整 - CSVエクスポート
            const deliveryExportBtn = document.getElementById('delivery-export-csv-btn');
            if (deliveryExportBtn) {
                deliveryExportBtn.addEventListener('click', function() {
                    alert('納期調整のCSVエクスポートを実行しました。');
                });
            }

            // 納期調整 - FAX出力
            const deliveryFaxBtn = document.getElementById('delivery-fax-modal-btn');
            if (deliveryFaxBtn) {
                deliveryFaxBtn.addEventListener('click', function() {
                    alert('納期調整のFAX出力モーダルを開きます。');
                });
            }

            // ドロップダウンメニューの動作（見積処理）
            const quotationExportDropdownBtn = document.getElementById('export-dropdown-btn');
            const quotationExportDropdownMenu = document.getElementById('export-dropdown-menu');
            if (quotationExportDropdownBtn && quotationExportDropdownMenu) {
                quotationExportDropdownBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    quotationExportDropdownMenu.style.display = quotationExportDropdownMenu.style.display === 'block' ? 'none' : 'block';
                });
            }

            // ドロップダウンメニューの動作（受注処理 - 通常）
            const orderExportDropdownBtn = document.getElementById('order-export-dropdown-btn');
            const orderExportDropdownMenu = document.getElementById('order-export-dropdown-menu');
            if (orderExportDropdownBtn && orderExportDropdownMenu) {
                orderExportDropdownBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    orderExportDropdownMenu.style.display = orderExportDropdownMenu.style.display === 'block' ? 'none' : 'block';
                });
            }

            // ドロップダウンメニューの動作（受注処理 - 遅延処理用）
            const orderDelayExportDropdownBtn = document.getElementById('order-delay-export-dropdown-btn');
            const orderDelayExportDropdownMenu = document.getElementById('order-delay-export-dropdown-menu');
            if (orderDelayExportDropdownBtn && orderDelayExportDropdownMenu) {
                orderDelayExportDropdownBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    orderDelayExportDropdownMenu.style.display = orderDelayExportDropdownMenu.style.display === 'block' ? 'none' : 'block';
                });
            }

            // ドロップダウンメニューの動作（納期調整）
            const deliveryExportDropdownBtn = document.getElementById('delivery-export-dropdown-btn');
            const deliveryExportDropdownMenu = document.getElementById('delivery-export-dropdown-menu');
            if (deliveryExportDropdownBtn && deliveryExportDropdownMenu) {
                deliveryExportDropdownBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    deliveryExportDropdownMenu.style.display = deliveryExportDropdownMenu.style.display === 'block' ? 'none' : 'block';
                });
            }

            // ドロップダウンメニューを閉じる処理
            document.addEventListener('click', function() {
                if (quotationExportDropdownMenu) quotationExportDropdownMenu.style.display = 'none';
                if (orderExportDropdownMenu) orderExportDropdownMenu.style.display = 'none';
                if (orderDelayExportDropdownMenu) orderDelayExportDropdownMenu.style.display = 'none';
                if (deliveryExportDropdownMenu) deliveryExportDropdownMenu.style.display = 'none';
            });
        })();
    </script>
</body>

</html>